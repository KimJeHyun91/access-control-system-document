openapi: "3.0.1"
info:
  title: "Access Control Service API"
  description: |
    ì¶œì… ì œì–´ ì„œë¹„ìŠ¤(Access Control Service)ë¥¼ ìœ„í•œ REST API ëª…ì„¸ì„œì…ë‹ˆë‹¤.<br>
    PostgreSQL ìŠ¤í‚¤ë§ˆë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, MSA ì•„í‚¤í…ì²˜ í™˜ê²½ì—ì„œì˜ ë…ë¦½ì„±ê³¼ í™•ì¥ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.<br>

    ### ğŸ›  í•µì‹¬ ì„¤ê³„ ì›ì¹™
    1. **ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì •ì±… (Priority-Based):** - `access_rules`ì˜ `priority` í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê¶Œí•œì„ ê²°ì •í•©ë‹ˆë‹¤.
       - ë™ì¼ ìš°ì„ ìˆœìœ„ ê·œì¹™ ê°„ì—ëŠ” **í•©ì§‘í•©(Union)** ì²˜ë¦¬í•˜ë©°, ë†’ì€ ìš°ì„ ìˆœìœ„ ê·œì¹™ì€ í•˜ìœ„ ê·œì¹™ì„ **ë¬´ë ¥í™”(Override)**í•©ë‹ˆë‹¤.
    2. **ê³µê°„ ë° ê²½ë¡œ ê´€ë¦¬ (Spatial Management):**
       - **areaId:** ì¥ë¹„ê°€ ì„¤ì¹˜ëœ ë¬¼ë¦¬ì  ìœ„ì¹˜(ìì‚° ê´€ë¦¬/UI íŠ¸ë¦¬ìš©).
       - **fromAreaId / toAreaId:** ë³´ì•ˆ ë¡œì§ìš© ì´ë™ ê²½ë¡œ(ì•ˆí‹°íŒ¨ìŠ¤ë°± ë° ì¬ì‹¤ ê´€ë¦¬ìš©).
    3. **ë³´ì•ˆ ë¬´ê²°ì„± (Security & Privacy):**
       - ê°œì¸ì •ë³´(PII) ë° ë¡œê·¸ ìŠ¤ëƒ…ìƒ·ì€ AES-256 ì•”í˜¸í™” ì²˜ë¦¬ë©ë‹ˆë‹¤.
       - ë¡œê·¸ í…Œì´ë¸”ì˜ `updatedAt`ì´ ì¡´ì¬í•  ê²½ìš° ë¹„ì •ìƒì ì¸ ë°ì´í„° ìˆ˜ì • ì‹œë„ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.

  version: "1.0.1"
  contact:
    name: "Jehyun Kim"

servers:
  - url: "http://localhost:4300/api/v1/access-control"
    description: "ë¡œì»¬ ê°œë°œ ì„œë²„"     

tags:
  - name: "1. Time Policy Management"
    description: "ì‹œê°„ ì •ì±… (ìŠ¤ì¼€ì¥´ ë° ê³µíœ´ì¼) ê´€ë¦¬"
  - name: "2. Security Level Management"
    description: "ë³´ì•ˆ ë“±ê¸‰(Clearance) ë° ì„ê³„ê°’(Threshold) ê´€ë¦¬"
  - name: "3. Access Point Group Management"
    description: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ê´€ë¦¬ (ë³´ì•ˆ ì„¤ì •, ê·¸ë£¹í•‘, ì¥ë¹„ CRUD í†µí•©)"
  - name: "4. Access Rules"
    description: "ì¶œì… ê·œì¹™(Where + When) ì •ì˜ ë° ìš°ì„ ìˆœìœ„ ê´€ë¦¬"
  - name: "5. Personnels"
    description: "ì¶œì… ì£¼ì²´(ì§ì›/ë°©ë¬¸ê°) ê´€ë¦¬"
  - name: "6. Authentication"
    description: "ì¸ì¦ ìˆ˜ë‹¨(Credential) ê´€ë¦¬"
  - name: "7. Interlocks"
    description: "ì¸í„°ë½(Man-trap) ì—°ë™ ì œì–´"

paths:
  # ==========================================
  # 1. Time Policy Management
  # ==========================================
  /time-schedules:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¡°ê±´ì— ë§ëŠ” ì‹œê°„ ìŠ¤ì¼€ì¥´ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        ëª¨ë“  ìš”ì¼(7ê°œ)ê³¼ ì •ì˜ëœ ê³µíœ´ì¼ íƒ€ì…ì— ëŒ€í•œ ìƒì„¸ ì„¤ì •ì´ í¬í•¨ë˜ì–´ ë°˜í™˜ë©ë‹ˆë‹¤.<br>
        ê³µíœ´ì¼ ìŠ¬ë¡¯(ì˜ˆ: HOL1...)ì—ëŠ” ë§¤í•‘ëœ ê³µíœ´ì¼ì˜ ìƒì„¸ ì •ë³´(ì´ë¦„, ë‚ ì§œ ëª©ë¡ ë“±)ê°€ í¬í•¨ë©ë‹ˆë‹¤.<br>
        í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬ ë° ë‹¤ì–‘í•œ í•„í„°ë§(ì´ë¦„, ì½”ë“œ, ì„¤ëª…, í™œì„±í™” ì—¬ë¶€)ì„ ì§€ì›í•©ë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„° (ê´€ë¦¬ììš©, ì¼ë°˜ ì‚¬ìš©ìëŠ” ìë™ ê³ ì •)"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "description"
          in: "query"
          description: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì„¤ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "code"
          in: "query"
          description: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì½”ë“œ ê²€ìƒ‰ (ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "isActive"
          in: "query"
          description: "í™œì„±í™” ì—¬ë¶€ í•„í„° (true: í™œì„±, false: ë¹„í™œì„±, ë¯¸ì…ë ¥: ì „ì²´)"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          description: "í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘). ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(0)ì´ ì ìš©ë©ë‹ˆë‹¤."
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          description: |
            í˜ì´ì§€ ë‹¹ í•­ëª© ìˆ˜. ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(1000)ì´ ì ìš©ë©ë‹ˆë‹¤.<br>
            (ì£¼ì˜: ë°ì´í„°ê°€ ë§ì„ ê²½ìš°, í•œ ë²ˆì— ë„ˆë¬´ ë§ì€ í•­ëª©ì„ ì¡°íšŒí•˜ë©´ ì‘ë‹µ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: createdAt,desc (ìµœì‹ ìˆœ), name,asc (ì´ë¦„ìˆœ)<br>
            ë‹¤ì¤‘ ì •ë ¬ ê°€ëŠ¥
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeScheduleListResponse"

    post:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ì‹œê°„ ìŠ¤ì¼€ì¥´ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
        ìƒì„± ì‹œ ë°˜ë“œì‹œ ëª¨ë“  ìš”ì¼(MON~SUN)ì— ëŒ€í•œ ì„¤ì •ì´ í¬í•¨ë˜ì–´ì•¼ í•˜ë©°, í•„ìš”í•œ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì„ ì¶”ê°€ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
        ê³µíœ´ì¼ íƒ€ì…ì˜ ê²½ìš°, ì‚¬ì „ì— ë“±ë¡ëœ ê³µíœ´ì¼ ID(id)ë¥¼ ë§¤í•‘í•˜ì—¬ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**<br>
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.<br>
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TimeScheduleRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeSchedule"
        '409':
          $ref: "#/components/responses/Conflict"

  /time-schedules/{id}:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeSchedule"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ìˆ˜ì •"
      description: |
        ì‹œê°„ ìŠ¤ì¼€ì¥´ ì •ë³´ë¥¼ ì „ì²´ ìˆ˜ì •í•©ë‹ˆë‹¤ (Replacement).
        
        **ì£¼ì˜ì‚¬í•­:**
        - ê¸°ì¡´ ë°ì´í„°ë¥¼ ìš”ì²­ ë³¸ë¬¸(Body)ì˜ ë°ì´í„°ë¡œ **ì™„ì „íˆ ë®ì–´ì”ë‹ˆë‹¤.**
        - ë”°ë¼ì„œ `details` ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ë˜ì§€ ì•Šì€ ê¸°ì¡´ ì„¤ì •(ì˜ˆ: ê¸°ì¡´ì— ì¡´ì¬í•˜ë˜ HOL4 ì„¤ì • ë“±)ì€ **ì‚­ì œ**ë©ë‹ˆë‹¤.
        - ìˆ˜ì • ì‹œ ìœ ì§€í•˜ë ¤ëŠ” ëª¨ë“  ìš”ì¼ê³¼ ê³µíœ´ì¼ ì„¤ì •ì„ í¬í•¨í•´ì„œ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤.
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TimeScheduleRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeSchedule"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì‚­ì œ"
      description: |
        ì‹œê°„ ìŠ¤ì¼€ì¥´ì„ ì‚­ì œí•©ë‹ˆë‹¤.
        ì„œë²„ ì •ì±…ì— ë”°ë¼ ë…¼ë¦¬ì  ì‚­ì œ(Soft Delete) ë˜ëŠ” ë¬¼ë¦¬ì  ì‚­ì œ(Hard Delete)ê°€ ìˆ˜í–‰ë  ìˆ˜ ìˆìœ¼ë©°, ê²°ê³¼ì— í•´ë‹¹ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
              examples:
                softDeleteExample:
                  summary: "ë…¼ë¦¬ì  ì‚­ì œ(Soft Delete) ê²°ê³¼ ì˜ˆì‹œ"
                  value:
                    id: "123e4567-e89b-12d3-a456-426614174000"
                    isSoftDeleted: true
                    isHardDeleted: false
        '404':
          $ref: "#/components/responses/NotFound"

  /holidays:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¡°ê±´ì— ë§ëŠ” ê³µíœ´ì¼ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬ ë° ë‹¤ì–‘í•œ í•„í„°ë§(ì´ë¦„, ì½”ë“œ, ì„¤ëª…, ë°˜ë³µ ì—¬ë¶€ ë“±)ì„ ì§€ì›í•©ë‹ˆë‹¤.
        
        **ì°¸ê³ :** `isRecurring`ì´ `true`ì¸ ê³µíœ´ì¼ì˜ ê²½ìš°, ì„œë²„ ì„¤ì •(ì˜ˆ: í˜„ì¬ ì—°ë„ ì „í›„ 1ë…„)ì— ë”°ë¼ ìë™ìœ¼ë¡œ ê³„ì‚°ëœ ì—°ë„ê°€ í¬í•¨ëœ ë‚ ì§œ ëª©ë¡(`items`)ì´ ë°˜í™˜ë©ë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ê³µíœ´ì¼ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "description"
          in: "query"
          description: "ê³µíœ´ì¼ ì„¤ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "code"
          in: "query"
          description: "ê³µíœ´ì¼ ì½”ë“œ ê²€ìƒ‰ (ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "isRecurring"
          in: "query"
          description: "ë§¤ë…„ ë°˜ë³µ ì—¬ë¶€ í•„í„°"
          schema:
            type: "boolean"
        - name: "isActive"
          in: "query"
          description: "í™œì„±í™” ì—¬ë¶€ í•„í„° (true: í™œì„±, false: ë¹„í™œì„±, ë¯¸ì…ë ¥: ì „ì²´)"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          description: "í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘). ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(0)ì´ ì ìš©ë©ë‹ˆë‹¤."
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          description: |
            í˜ì´ì§€ ë‹¹ í•­ëª© ìˆ˜.
            ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(1000)ì´ ì ìš©ë©ë‹ˆë‹¤.
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)
            ì˜ˆ: holidayDate,asc (ë‚ ì§œìˆœ), name,asc (ì´ë¦„ìˆœ)
            ë‹¤ì¤‘ ì •ë ¬ ê°€ëŠ¥
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HolidayListResponse"

    post:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ë“±ë¡"
      description: |
        ìƒˆë¡œìš´ ê³µíœ´ì¼ ê·¸ë£¹ì„ ë“±ë¡í•©ë‹ˆë‹¤.
        
        **ë‚ ì§œ ì…ë ¥ ê·œì¹™:**
        - `isRecurring: true` (ë§¤ë…„ ë°˜ë³µ): `holidayDate`ì— **"MM-DD"** í˜•ì‹ ì…ë ¥ (ì˜ˆ: "01-01")
        - `isRecurring: false` (ë‹¨ë°œì„±): `holidayDate`ì— **"YYYY-MM-DD"** í˜•ì‹ ì…ë ¥ (ì˜ˆ: "2024-02-10")
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/HolidayRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
              examples:
                createdResponse:
                  summary: "ìƒì„±ëœ ê³µíœ´ì¼ ì‘ë‹µ"
                  value:
                    id: "holiday-uuid-1"
                    name: "ì‹ ì •"
                    description: "ë§¤ë…„ 1ì›” 1ì¼ì€ ì‹ ì •ì…ë‹ˆë‹¤."
                    code: "HOL-001"
                    isRecurring: true
                    items:
                      - id: "item-gen-1"
                        holidayDate: "2024-01-01"
                        isSubstitute: false
                      - id: "item-gen-2"
                        holidayDate: "2025-01-01"
                        isSubstitute: false
                    isActive: true
        '409':
          $ref: "#/components/responses/Conflict"

  /holidays/{id}:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
              examples:
                singleHoliday:
                  summary: "ë‹¨ê±´ ì¡°íšŒ ì˜ˆì‹œ"
                  value:
                    id: "holiday-uuid-1"                    
                    name: "ì‹ ì •"
                    description: "ë§¤ë…„ 1ì›” 1ì¼"
                    code: "HOL-001"
                    isRecurring: true
                    isActive: true
                    items:
                      - id: "item-gen-1"
                        holidayDate: "2024-01-01"
                        isSubstitute: false
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ìˆ˜ì •"
      description: |
        ê³µíœ´ì¼ ì •ë³´ë¥¼ ì „ì²´ ìˆ˜ì •í•©ë‹ˆë‹¤ (Replacement).
        
        **ì£¼ì˜ì‚¬í•­:**
        - ê¸°ì¡´ ë°ì´í„°ë¥¼ ìš”ì²­ ë³¸ë¬¸(Body)ì˜ ë°ì´í„°ë¡œ **ì™„ì „íˆ ë®ì–´ì”ë‹ˆë‹¤.**
        - `items` ë¦¬ìŠ¤íŠ¸ë„ ìƒˆë¡œ ì „ë‹¬ëœ ëª©ë¡ìœ¼ë¡œ êµì²´ë©ë‹ˆë‹¤.
        
        **ë‚ ì§œ ì…ë ¥ ê·œì¹™ (isRecurring ë³€ê²½ ì‹œ ì£¼ì˜):**
        - `isRecurring`ì„ `true`ë¡œ ì„¤ì •/ë³€ê²½ ì‹œ: `holidayDate`ëŠ” **"MM-DD"** í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
        - `isRecurring`ì„ `false`ë¡œ ì„¤ì •/ë³€ê²½ ì‹œ: `holidayDate`ëŠ” **"YYYY-MM-DD"** í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/HolidayRequest"
            examples:
              updateExample:
                summary: "ê³µíœ´ì¼ ìˆ˜ì • ìš”ì²­ ì˜ˆì‹œ"
                value:
                  name: "ì‹ ì • (ìˆ˜ì •ë¨)"
                  description: "ì„¤ëª… ë³€ê²½ë¨"
                  code: "HOL-001"
                  isRecurring: true
                  isActive: true
                  items:
                    - holidayDate: "01-01"
                      isSubstitute: false
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
              examples:
                updatedResponse:
                  summary: "ìˆ˜ì •ëœ ê³µíœ´ì¼ ì‘ë‹µ"
                  value:
                    id: "holiday-uuid-1"
                    name: "ì‹ ì • (ìˆ˜ì •ë¨)"
                    description: "ì„¤ëª… ë³€ê²½ë¨"
                    code: "HOL-001"
                    isRecurring: true
                    items:
                      - id: "item-gen-2"
                        holidayDate: "2025-01-01"
                        isSubstitute: false
                    isActive: true
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
              examples:
                deleteResponse:
                  summary: "ê³µíœ´ì¼ ì‚­ì œ ê²°ê³¼"
                  value:
                    id: "holiday-uuid-1"
                    isSoftDeleted: true
                    isHardDeleted: false
        '404':
          $ref: "#/components/responses/NotFound"


  # ==========================================
  # 2. Security Level Management
  # ==========================================
  /security-clearances:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰(Security Clearance) ëª©ë¡ ì¡°íšŒ"
      description: |
        ì‚¬ëŒ(Personnel)ì—ê²Œ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ” ë³´ì•ˆ ë“±ê¸‰(ì¸ê°€ ë“±ê¸‰) ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        `accessLevel`ì´ ë†’ì„ìˆ˜ë¡ ë” ë†’ì€ ë³´ì•ˆ ì„ê³„ê°’(Threshold)ì„ ê°€ì§„ ë¬¸ì„ í†µê³¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ë“±ê¸‰ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "accessLevel"
          in: "query"
          description: "ì¶œì… ê¶Œí•œ ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "antipassbackLevel"
          in: "query"
          description: "ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "armingLevel"
          in: "query"
          description: "ê²½ë¹„ ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: accessLevel,desc (ë†’ì€ ë“±ê¸‰ìˆœ), name,asc (ì´ë¦„ìˆœ)
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/SecurityClearance"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ë³´ì•ˆ ë“±ê¸‰ì„ ìƒì„±í•©ë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityClearanceRequest"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityClearance"
        '409':
          $ref: "#/components/responses/Conflict"

  /security-clearances/{id}:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityClearance"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ìˆ˜ì •"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityClearanceRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityClearance"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  /security-thresholds:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’(Security Threshold) ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¶œì…ë¬¸(Access Point)ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        `minAccessLevel`ë³´ë‹¤ ë‚®ì€ `accessLevel`ì„ ê°€ì§„ ì‚¬ëŒì€ ì¶œì…ì´ ê±°ë¶€ë©ë‹ˆë‹¤.<br>
      parameters:
        - name: "organizationId"
          in: "query"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ì„ê³„ê°’ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "minAccessLevel"
          in: "query"
          description: "ìµœì†Œ ì¶œì… ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "minAntipassbackLevel"
          in: "query"
          description: "ìµœì†Œ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "minArmingLevel"
          in: "query"
          description: "ìµœì†Œ ê²½ë¹„ ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: minAccessLevel,asc (ë‚®ì€ ë ˆë²¨ìˆœ), name,asc
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/SecurityThreshold"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ìƒì„±"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityThresholdRequest"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityThreshold"
        '409':
          $ref: "#/components/responses/Conflict"

  /security-thresholds/{id}:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityThreshold"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ìˆ˜ì •"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityThresholdRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityThreshold"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  # ==========================================
  # 3. Access Point Group Management
  # ==========================================
  /access-point-groups:
    get:
      tags: ["3. Access Point Group Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        ê·¸ë£¹ ì´ë¦„ ê²€ìƒ‰ ì™¸ì— **íŠ¹ì • ì¶œì… í¬ì¸íŠ¸ê°€ í¬í•¨ëœ ê·¸ë£¹**ì„ ì°¾ëŠ” ê¸°ëŠ¥ì´ ì œê³µë©ë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ê·¸ë£¹ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "accessPointId"
          in: "query"
          description: "íŠ¹ì • ì¶œì… í¬ì¸íŠ¸ IDê°€ í¬í•¨ëœ ê·¸ë£¹ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "accessPointName"
          in: "query"
          description: "íŠ¹ì • ì¶œì… í¬ì¸íŠ¸ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·¸ë£¹ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: name,asc (ì´ë¦„ìˆœ), createdAt,desc (ìµœì‹ ìˆœ)<br>
            ë‹¤ì¤‘ ì •ë ¬ ê°€ëŠ¥
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/AccessPointGroup"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["3. Access Point Group Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
        `accessPointIds` ëª©ë¡ì„ í¬í•¨í•˜ì—¬ ê·¸ë£¹ì— ì†í•  ì¶œì… í¬ì¸íŠ¸ë¥¼ í•œ ë²ˆì— ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessPointGroupRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPointGroup"
        '409':
          $ref: "#/components/responses/Conflict"

  /access-point-groups/{id}:
    get:
      tags: ["3. Access Point Group Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPointGroup"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["3. Access Point Group Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ìˆ˜ì •"
      description: |
        ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ì •ë³´ë¥¼ ì „ì²´ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>
        `accessPointIds` ëª©ë¡ì„ ìƒˆë¡œ ì „ë‹¬í•˜ë©´, ê¸°ì¡´ ë§¤í•‘ì€ ì œê±°ë˜ê³  ìƒˆë¡œìš´ ëª©ë¡ìœ¼ë¡œ êµì²´ë©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessPointGroupRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPointGroup"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["3. Access Point Group Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  # ==========================================
  # 4. Access Rules (Priority-Based Policy)
  # ==========================================
  /access-rules:
    get:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™(Access Rule) ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¶œì… ê·œì¹™ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        **ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì •ì±…:** `priority`ê°€ ë†’ì„ìˆ˜ë¡ ë” ê°•ë ¥í•œ ê·œì¹™ìœ¼ë¡œ ê°„ì£¼ë˜ë©°, ì¶©ëŒ ì‹œ í•˜ìœ„ ê·œì¹™ì„ ë®ì–´ì”ë‹ˆë‹¤(Override).
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„° (ê´€ë¦¬ììš©)"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ê·œì¹™ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "description"
          in: "query"
          description: "ê·œì¹™ ì„¤ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "priority"
          in: "query"
          description: "ìš°ì„ ìˆœìœ„ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        
        # --- [Items ê´€ë ¨ ê²€ìƒ‰ ì¡°ê±´] ---
        - name: "accessPointId"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ IDê°€ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "accessPointName"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "accessPointGroupId"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ ê·¸ë£¹ IDê°€ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "accessPointGroupName"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ ê·¸ë£¹ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "timeScheduleId"
          in: "query"
          description: "íŠ¹ì • ì‹œê°„ ìŠ¤ì¼€ì¤„ IDê°€ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "timeScheduleName"
          in: "query"
          description: "íŠ¹ì • ì‹œê°„ ìŠ¤ì¼€ì¤„ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: "ì •ë ¬ ê¸°ì¤€ (ì˜ˆ: priority,desc - ë†’ì€ ìš°ì„ ìˆœìœ„ë¶€í„°)"
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/AccessRule"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ì¶œì… ê·œì¹™ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
        **ìš°ì„ ìˆœìœ„(Priority):** 0~255 ì‚¬ì´ì˜ ì •ìˆ˜. ìˆ«ìê°€ í´ìˆ˜ë¡ ë†’ì€ ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤.<br>
        **ë§¤í•‘:** í•˜ë‚˜ì˜ ê·œì¹™ì— [ê°œë³„ ì¶œì…ë¬¸ + ìŠ¤ì¼€ì¤„] ë˜ëŠ” [ì¶œì…ë¬¸ ê·¸ë£¹ + ìŠ¤ì¼€ì¤„] ì¡°í•©ì„ ì—¬ëŸ¬ ê°œ ë‹´ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessRuleRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessRule"
        '409':
          $ref: "#/components/responses/Conflict"

  /access-rules/{id}:
    get:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessRule"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ìˆ˜ì •"
      description: |
        ì¶œì… ê·œì¹™ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. í—¤ë” ì •ë³´ì™€ ìƒì„¸ í•­ëª©(items)ì„ ëª¨ë‘ í¬í•¨í•˜ì—¬ ì „ì²´ ì—…ë°ì´íŠ¸(Replacement)í•©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessRuleRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessRule"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  # ==========================================
  # 5. Personnels (Access Subjects)
  # ==========================================
  /personnels:
    get:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ëª©ë¡ ì¡°íšŒ"
      description: |
        ì§ì› ë° ë°©ë¬¸ê° ë“± ë“±ë¡ëœ ì¶œì… ì£¼ì²´ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        ì£¼ìš” ê°œì¸ì •ë³´(ì´ë¦„, ì „í™”ë²ˆí˜¸ ë“±)ëŠ” DBì— ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.
      parameters:
        - name: "personnelType"
          in: "query"
          description: "ì¶œì… ì£¼ì²´ ìœ í˜• (EMPLOYEE: ì§ì›, VISITOR: ë°©ë¬¸ê°)"
          schema:
            type: "string"
            enum: ["EMPLOYEE", "VISITOR"]
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "organizationCode"
          in: "query"
          description: "ì¡°ì§ ì½”ë“œ í•„í„°"
          schema:
            type: "string"
        - name: "organizationName"
          in: "query"
          description: "ì¡°ì§ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "departmentId"
          in: "query"
          description: "ë¶€ì„œ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "departmetnCode"
          in: "query"
          description: "ë¶€ì„œ ì½”ë“œ í•„í„°"
          schema:
            type: "string"
        - name: "departmentName"
          in: "query"
          description: "ë¶€ì„œ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "positionId"
          in: "query"
          description: "ì§ì±… ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "positionCode"
          in: "query"
          description: "ì§ì±… ì½”ë“œ í•„í„°"
          schema:
            type: "string"
        - name: "positionName"
          in: "query"
          description: "ì§ì±… ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "jobId"
          in: "query"
          description: "ì§ë¬´ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "jobCode"
          in: "query"
          description: "ì§ë¬´ ì½”ë“œ í•„í„°"
          schema:
            type: "string"
        - name: "jobName"
          in: "query"
          description: "ì§ë¬´ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "gradeId"
          in: "query"
          description: "ì§ê¸‰ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "gradeCode"
          in: "query"
          description: "ì§ê¸‰ ì½”ë“œ í•„í„°"
          schema:
            type: "string"
        - name: "gradeName"
          in: "query"
          description: "ì§ê¸‰ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "employeeId"
          in: "query"
          description: "ì‚¬ì› ID ê²€ìƒ‰ (ì§ì›ì¸ ê²½ìš°)"
          schema:
            type: "string"
        - name: "employeeCode"
          in: "query"
          description: "ì‚¬ì› ì½”ë“œ(ì‚¬ë²ˆ) ê²€ìƒ‰ (ì§ì›ì¸ ê²½ìš°)"
          schema:
            type: "string"
        - name: "name"
          in: "query"
          description: "ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "phoneNumber"
          in: "query"
          description: "ì—°ë½ì²˜ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "email"
          in: "query"
          description: "ì´ë©”ì¼ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"          
        - name: "isValidOnly"
          in: "query"
          description: "í˜„ì¬ ì¶œì… ê°€ëŠ¥í•œ ì¸ì›ë§Œ ì¡°íšŒ (ìœ íš¨ê¸°ê°„ ê¸°ì¤€)"
          schema:
            type: "boolean"
            default: true
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 20
        - name: "sort"
          in: "query"
          description: "ì •ë ¬ ê¸°ì¤€ (ì˜ˆ: createdAt,desc)"
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/Personnel"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ë“±ë¡"
      description: |
        ìƒˆë¡œìš´ ì¶œì… ì£¼ì²´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.<br>
        **FormData ì „ì†¡ ë°©ì‹:**
        - `profileImage`: ì´ë¯¸ì§€ íŒŒì¼ (Binary)
        - `data`: JSON ê°ì²´ ë¬¸ìì—´ (PersonnelCreateRequest êµ¬ì¡°)
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                profileImage:
                  type: "string"
                  format: "binary"
                  description: "í”„ë¡œí•„ ì´ë¯¸ì§€ íŒŒì¼"
                data:
                  allOf:
                    - $ref: "#/components/schemas/PersonnelCreateRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Personnel"
        '400':
          $ref: "#/components/responses/BadRequest"

  /personnels/{id}:
    get:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ìƒì„¸ ì¡°íšŒ"
      description: "íŠ¹ì • ì¶œì… ì£¼ì²´ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤. ì•”í˜¸í™”ëœ ê°œì¸ì •ë³´ëŠ” ë³µí˜¸í™”ë˜ì–´ ë°˜í™˜ë©ë‹ˆë‹¤."
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Personnel"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ì •ë³´ ìˆ˜ì •"
      description: |
        ì¶œì… ì£¼ì²´ì˜ ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>
        ì´ë¯¸ì§€ ë³€ê²½ ì‹œ `profileImage` í•„ë“œì— ìƒˆ íŒŒì¼ì„ í¬í•¨í•˜ê³ , ìœ ì§€í•˜ë ¤ë©´ ì œì™¸í•©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          multipart/form-data:
            schema:
              properties:
                profileImage:
                  type: "string"
                  format: "binary"
                  description: "í”„ë¡œí•„ ì´ë¯¸ì§€ íŒŒì¼"
                data:
                  allOf:
                    - $ref: "#/components/schemas/PersonnelUpdateRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Personnel"
        '404':
          $ref: "#/components/responses/NotFound"

    delete:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ì‚­ì œ"
      description: "ì¶œì… ì£¼ì²´ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤. ê´€ë ¨ ì¶œì… ë¡œê·¸ëŠ” ë³´ì¡´ë˜ë©°, ê°œì¸ì •ë³´ëŠ” ì •ì±…ì— ë”°ë¼ íŒŒê¸°ë˜ê±°ë‚˜ ë§ˆìŠ¤í‚¹ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤."
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"

  # ==========================================
  # 6. Credentials (ì¸ì¦ ìˆ˜ë‹¨ ê´€ë¦¬)
  # ==========================================
  /personnels/{personnelId}/credentials:
    get:
      tags: ["6. Authentication"]
      summary: "ì¸ì¦ ìˆ˜ë‹¨ ëª©ë¡ ì¡°íšŒ"
      description: "í•´ë‹¹ ì¸ì›ì—ê²Œ ë°œê¸‰ëœ ëª¨ë“  ì¸ì¦ ìˆ˜ë‹¨(ì¹´ë“œ, ìƒì²´ ë“±)ì„ ì¡°íšŒí•©ë‹ˆë‹¤."
      parameters:
        - name: "personnelId"
          in: "path"
          required: true
          schema: { type: "string", format: "uuid" }
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/Credential"

    post:
      tags: ["6. Authentication"]
      summary: "ì¸ì¦ ìˆ˜ë‹¨ ë°œê¸‰ (ë“±ë¡)"
      description: |
        ìƒˆë¡œìš´ ì¸ì¦ ìˆ˜ë‹¨ì„ ë“±ë¡í•©ë‹ˆë‹¤.<br>
        `value` í•„ë“œì˜ ê°’(ì¹´ë“œ ë²ˆí˜¸, PIN ë“±)ì€ ì„œë²„ ì „ì†¡ í›„ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.
      parameters:
        - name: "personnelId"
          in: "path"
          required: true
          schema: { type: "string", format: "uuid" }
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CredentialRequest"
      responses:
        '200':
          description: "ë°œê¸‰ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Credential"

  /personnels/{personnelId}/credentials/{credentialId}/status:
    put:
      tags: ["6. Authentication"]
      summary: "ì¸ì¦ ìˆ˜ë‹¨ ìƒíƒœ ë³€ê²½"
      description: |
        íŠ¹ì • ì¸ì¦ ìˆ˜ë‹¨ì˜ ìƒíƒœë¥¼ ë³€ê²½í•©ë‹ˆë‹¤. (ì˜ˆ: ë¶„ì‹¤ ì‹ ê³ , ì¼ì‹œ ì •ì§€, í™œì„±í™”)<br>
        ì°¸ê³ : ì¶œì…ì ì „ì²´ê°€ ì°¨ë‹¨ë  ê²½ìš°, ë°±ì—”ë“œ ë¡œì§ì— ì˜í•´ ì†Œìœ í•œ ëª¨ë“  ì¸ì¦ ìˆ˜ë‹¨ì´ ìë™ìœ¼ë¡œ SUSPENDED ì²˜ë¦¬ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      parameters:
        - name: "personnelId"
          in: "path"
          required: true
          schema: { type: "string", format: "uuid" }
        - name: "credentialId"
          in: "path"
          required: true
          schema: { type: "string", format: "uuid" }
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CredentialStatusRequest"
      responses:
        '200':
          description: "ìƒíƒœ ë³€ê²½ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Credential"

  /personnels/{personnelId}/credentials/{credentialId}:
    delete:
      tags: ["6. Authentication"]
      summary: "ì¸ì¦ ìˆ˜ë‹¨ íê¸° (ì‚­ì œ)"
      description: "ë¶„ì‹¤, íŒŒì†, êµì²´ ë“±ìœ¼ë¡œ ì¸í•´ ë” ì´ìƒ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì¸ì¦ ìˆ˜ë‹¨ì„ ì‚­ì œí•©ë‹ˆë‹¤."
      parameters:
        - name: "personnelId"
          in: "path"
          required: true
          schema: { type: "string", format: "uuid" }
        - name: "credentialId"
          in: "path"
          required: true
          schema: { type: "string", format: "uuid" }
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"

components:
  responses:
    BadRequest:
      description: "ì˜ëª»ëœ ìš”ì²­ (ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ë“±)"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Unauthorized:
      description: "ì¸ì¦ ì‹¤íŒ¨ (í† í° ì—†ìŒ/ë§Œë£Œ)"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Forbidden:
      description: "ê¶Œí•œ ì—†ìŒ"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    NotFound:
      description: "ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Conflict:
      description: "ë°ì´í„° ì¶©ëŒ (ì¤‘ë³µ ë“±)"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    InternalServerError:
      description: "ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
  schemas:
    # ----------------------------------------------------
    # Common Schemas
    # ----------------------------------------------------
    PageMetadata:
      type: "object"
      properties:
        size:
          type: "integer"
          description: "í˜ì´ì§€ ë‹¹ í•­ëª© ìˆ˜"
          example: 20
        page:
          type: "integer"
          description: "í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘)"
          example: 0
        totalElements:
          type: "integer"
          description: "ì „ì²´ í•­ëª© ìˆ˜"
          example: 100
        totalPages:
          type: "integer"
          description: "ì „ì²´ í˜ì´ì§€ ìˆ˜"
          example: 5
        isLast:
          type: "boolean"
          description: "ë§ˆì§€ë§‰ í˜ì´ì§€ ì—¬ë¶€"
          example: false
        hasNext:
          type: "boolean"
          description: "ë‹¤ìŒ í˜ì´ì§€ ì¡´ì¬ ì—¬ë¶€"
          example: true

    DeleteResult:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
          description: "ì‚­ì œëœ ë¦¬ì†ŒìŠ¤ì˜ ID"
        isSoftDeleted:
          type: "boolean"
          description: "ë…¼ë¦¬ì  ì‚­ì œ(Soft Delete) ì—¬ë¶€. trueë©´ DBì—ëŠ” ë‚¨ì•„ìˆì§€ë§Œ ì‚­ì œëœ ê²ƒìœ¼ë¡œ ì²˜ë¦¬ë¨."
        isHardDeleted:
          type: "boolean"
          description: "ë¬¼ë¦¬ì  ì‚­ì œ(Hard Delete) ì—¬ë¶€. trueë©´ DBì—ì„œ ì™„ì „íˆ ì œê±°ë¨."

    ErrorResponse:
      type: "object"
      properties:
        errorCode:
          type: "string"
          description: "ì—ëŸ¬ ì½”ë“œ (ì˜ˆ: DUPLICATE_ENTRY, RESOURCE_NOT_FOUND)"
          example: "INVALID_REQUEST"
        errorMessage:
          type: "string"
          description: "ì—ëŸ¬ ë©”ì‹œì§€"
          example: "ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤."
        errorDetails:
          type: "object"
          description: "ìƒì„¸ ì—ëŸ¬ ë‚´ìš© (í•„ë“œë³„ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‚¬ìœ  ë“±)"
          nullable: true

    # ----------------------------------------------------
    # 1. Time Policy Management
    # ----------------------------------------------------
    TimeScheduleListResponse:
      type: "object"
      properties:
        content:
          type: "array"
          items:
            $ref: "#/components/schemas/TimeSchedule"
        page:
          $ref: "#/components/schemas/PageMetadata"

    TimeSchedule:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ì´ë¦„"
          example: "í‰ì¼ ê·¼ë¬´ì‹œê°„"
        description:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ì„¤ëª…"
          example: "ì›”~ê¸ˆ 09:00~18:00 ì¶œì… í—ˆìš©"
        code:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ì½”ë“œ"
          example: "WEEKDAY_WORK_HOURS"
        details:
          type: "array"
          description: "í•­ìƒ ëª¨ë“  ìš”ì¼(MON~SUN)ê³¼ ì„¤ì •ëœ ê³µíœ´ì¼ íƒ€ì…ì˜ ìƒì„¸ ì„¤ì •ì´ í¬í•¨ë©ë‹ˆë‹¤."
          items:
            $ref: "#/components/schemas/TimeScheduleDetail"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    TimeSlot:
      type: "object"
      properties:
        startTime:
          type: "string"
          description: "HH:mm:ss í˜•ì‹"
          example: "09:00:00"
        endTime:
          type: "string"
          description: "HH:mm:ss í˜•ì‹"
          example: "12:00:00"

    TimeScheduleDetail:
      type: "object"
      properties:
        dayOfWeek:
          type: "string"
          description: "ìš”ì¼ ì½”ë“œ (MON, TUE... SUN) ë˜ëŠ” ê³µíœ´ì¼ ìŠ¤ì¼€ì¥´ íƒ€ì… (ì˜ˆ: HOL1, HOL2...)"
          example: "MON"
        type:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ìœ í˜•"
          enum: ["CUSTOM", "ALWAYS_ALLOWED", "ALWAYS_DENIED"]
        holiday:
          $ref: "#/components/schemas/HolidayReference"
          description: "dayOfWeekì´ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì¸ ê²½ìš° í¬í•¨ë˜ëŠ” ê³µíœ´ì¼ ìƒì„¸ ì •ë³´"
        timeSlots:
          type: "array"
          description: "ì‹œê°„ êµ¬ê°„ ëª©ë¡ (typeê°€ 'CUSTOM'ì¼ ë•Œ í•„ìˆ˜)"
          items:
            $ref: "#/components/schemas/TimeSlot"
          nullable: true

    TimeScheduleDetailRequest:
      type: "object"
      required: ["dayOfWeek", "type"]
      properties:
        dayOfWeek:
          type: "string"
          description: "ìš”ì¼ ì½”ë“œ (MON, TUE... SUN) ë˜ëŠ” ê³µíœ´ì¼ ìŠ¤ì¼€ì¥´ íƒ€ì… (ì˜ˆ: HOL1, HOL2...)"
          example: "MON"
        type:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ìœ í˜•"
          enum: ["CUSTOM", "ALWAYS_ALLOWED", "ALWAYS_DENIED"]
        holidayId:
          type: "string"
          format: "uuid"
          description: "dayOfWeekì´ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì¸ ê²½ìš° ë§¤í•‘í•  ê³µíœ´ì¼ ID"
        timeSlots:
          type: "array"
          description: "ì‹œê°„ êµ¬ê°„ ëª©ë¡ (typeê°€ 'CUSTOM'ì¼ ë•Œ í•„ìˆ˜)"
          items:
            $ref: "#/components/schemas/TimeSlot"
          nullable: true

    TimeScheduleRequest:
      type: "object"
      required: ["name", "details"]
      properties:
        name:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ì´ë¦„"
          example: "í‰ì¼ ê·¼ë¬´ì‹œê°„"
        description:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ì„¤ëª…"
          example: "ì›”~ê¸ˆ 09:00~18:00 ì¶œì… í—ˆìš©"
        code:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ì½”ë“œ"
          example: "WEEKDAY_WORK_HOURS"
        details:
          type: "array"
          description: "ëª¨ë“  ìš”ì¼(MON~SUN)ê³¼ í•„ìš”í•œ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì— ëŒ€í•œ ìƒì„¸ ì„¤ì • (ìµœì†Œ 7ê°œ í•„ìˆ˜)"
          minItems: 7
          items:
            $ref: "#/components/schemas/TimeScheduleDetailRequest"

    HolidayListResponse:
      type: "object"
      properties:
        content:
          type: "array"
          items:
            $ref: "#/components/schemas/Holiday"
        page:
          $ref: "#/components/schemas/PageMetadata"

    HolidayReference:
      type: "object"
      description: "ìŠ¤ì¼€ì¥´ ì‘ë‹µ ì‹œ í¬í•¨ë˜ëŠ” ê³µíœ´ì¼ ìš”ì•½ ì •ë³´"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ì„¤ë‚  ì—°íœ´"
        dates:
          type: "array"
          description: "í•´ë‹¹ ê³µíœ´ì¼ì— í¬í•¨ëœ ëª¨ë“  ë‚ ì§œ ëª©ë¡"
          items:
            type: "string"
            format: "date"
            example: "2024-02-10"

    Holiday:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
        description:
          type: "string"
        code:
          type: "string"
        isRecurring:
          type: "boolean"
        items:
          type: "array"
          description: "ê³µíœ´ì¼ì— í¬í•¨ëœ ë‚ ì§œ ëª©ë¡"
          items:
            $ref: "#/components/schemas/HolidayItem"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string" 
          format: "date-time"

    HolidayItem:
      type: "object"
      properties:
        holidayDate:
          type: "string"
          description: "YYYY-MM-DD (isRecurring=false) ë˜ëŠ” MM-DD (isRecurring=true)"
          example: "2024-01-01"
        isSubstitute:
          type: "boolean"

    HolidayRequest:
      type: "object"
      required: ["name", "items"]
      properties:
        name:
          type: "string"
          description: "ê³µíœ´ì¼ ì´ë¦„"
          example: "ì„¤ë‚  ì—°íœ´"
        description:
          type: "string"
          description: "ê³µíœ´ì¼ ì„¤ëª…"
          example: "ìŒë ¥ 1ì›” 1ì¼ê³¼ ê·¸ ì „í›„ ë‚ ì§œ"  
        code:
          type: "string"
          description: "ê³µíœ´ì¼ ì½”ë“œ"
          example: "LUNAR_NEW_YEAR"
        isRecurring:
          type: "boolean"
          description: "ë§¤ë…„ ë°˜ë³µ ì—¬ë¶€"
          default: false
        items:
          type: "array"
          minItems: 1
          items:
            type: "object"
            required: ["holidayDate"]
            properties:
              holidayDate:
                type: "string"
                # YYYY-MM-DD ë˜ëŠ” MM-DD í˜•ì‹ì„ ëª¨ë‘ í—ˆìš©í•˜ëŠ” ì •ê·œì‹
                pattern: "^(\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])|(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$"
                description: "ë‚ ì§œ. isRecurring=trueë©´ 'MM-DD', falseë©´ 'YYYY-MM-DD' í˜•ì‹"
                example: "01-01"
              isSubstitute:
                type: "boolean"
                description: "ëŒ€ì²´ ê³µíœ´ì¼ ì—¬ë¶€"
                default: false
        isActive:
          type: "boolean"
          default: true

    # ----------------------------------------------------
    # 2. Security Level Management
    # ----------------------------------------------------
    SecurityClearance:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ì¼ë°˜ ì„ì§ì›"
        description:
          type: "string"
          example: "ëŒ€ë¶€ë¶„ì˜ ì„ì§ì›ì—ê²Œ ë¶€ì—¬ë˜ëŠ” ê¸°ë³¸ ì¶œì… ê¶Œí•œ ë“±ê¸‰"
        accessLevel:
          type: "integer"
          description: "ì¶œì… ê¶Œí•œ ë ˆë²¨ (1~255). ì´ ê°’ì´ ë¬¸ì˜ minAccessLevelë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì•„ì•¼ í†µê³¼."
          example: 10
        antipassbackLevel:
          type: "integer"
          description: "ì•ˆí‹°íŒ¨ìŠ¤ë°± ë©´ì œ ë ˆë²¨ (1~255)"
          default: 1
        armingLevel:
          type: "integer"
          description: "ê²½ë¹„(Arming) ì„¤ì • ê°€ëŠ¥ ë ˆë²¨ (1~255)"
          default: 1
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    SecurityClearanceRequest:
      type: "object"
      required: ["name"]
      properties:
        name:
          type: "string"
          example: "ì¼ë°˜ ì„ì§ì›"
        description:
          type: "string"
          example: "ëŒ€ë¶€ë¶„ì˜ ì„ì§ì›ì—ê²Œ ë¶€ì—¬ë˜ëŠ” ê¸°ë³¸ ì¶œì… ê¶Œí•œ ë“±ê¸‰"
        accessLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        antipassbackLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        armingLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255

    SecurityThreshold:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ë³´ì•ˆêµ¬ì—­ ë ˆë²¨"
        description:
          type: "string"
          example: "ì¶œì… í¬ì¸íŠ¸ì— ì„¤ì •í•  ìµœì†Œ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­"
        minAccessLevel:
          type: "integer"
          description: "ìµœì†Œ ìš”êµ¬ ì¶œì… ë ˆë²¨ (1~255)"
          example: 10
        minAntipassbackLevel:
          type: "integer"
          default: 1
        minArmingLevel:
          type: "integer"
          default: 1
        isActive:
          type: "boolean"

    SecurityThresholdRequest:
      type: "object"
      required: ["name"]
      properties:
        name:
          type: "string"
          example: "ë³´ì•ˆêµ¬ì—­ ë ˆë²¨"
        description:
          type: "string"
          example: "ì¶œì… í¬ì¸íŠ¸ì— ì„¤ì •í•  ìµœì†Œ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­"
        minAccessLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        minAntipassbackLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        minArmingLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255

    # ----------------------------------------------------
    # 3. Access Point Group Management
    # ----------------------------------------------------
    AccessPointType:
      type: "object"
      properties:
        code:
          type: "string"
          description: "ì¶œì… í¬ì¸íŠ¸ íƒ€ì… ì½”ë“œ (DB ì €ì¥ ê°’)"
          example: "DOOR"
        label:
          type: "string"
          description: "í™”ë©´ í‘œì‹œìš© ë¼ë²¨"
          example: "ì¼ë°˜ ì¶œì…ë¬¸"

    AccessPoint:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        siteId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† ì‚¬ì´íŠ¸ ID"
        facilityId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† ì‹œì„¤ë¬¼ ID"
        sectorId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† êµ¬íš ID"
        areaId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† êµ¬ì—­ ID"
        siteName:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‚¬ì´íŠ¸ëª…"
          example: "ë³¸ì‚¬ ìº í¼ìŠ¤"
          readOnly: true
        facilityName:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‹œì„¤ë¬¼ëª…"
          example: "ë³¸ê´€ ë¹Œë”©"
          readOnly: true
        sectorName:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬íšëª…"
          example: "3ì¸µ"
          readOnly: true
        areaName:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬ì—­ëª…"
          example: "ë³´ì•ˆêµ¬ì—­ A"
          readOnly: true
        name:
          type: "string"
          example: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"
        description:
          type: "string"
          example: "ë³¸ê´€ ë¹Œë”© 1ì¸µì— ìœ„ì¹˜í•œ ì£¼ìš” ì¶œì…ë¬¸"
        code:
          type: "string"
          example: "AP-ENT-001"
        type:
          type: "string"
          enum: ["DOOR", "GATE_DOOR", "TURNSTILE", "ELEVATOR", "SPEED_GATE", "BARRIER", "SLIDING", "SHUTTER", "BOLLARD"]
        fromAreaId:
          type: "string"
          format: "uuid"
          description: "ì§„ì… ì „ êµ¬ì—­ ID (ì•ˆí‹°íŒ¨ìŠ¤ë°±ìš©)"
        toAreaId:
          type: "string"
          format: "uuid"
          description: "ì§„ì… í›„ êµ¬ì—­ ID (ì•ˆí‹°íŒ¨ìŠ¤ë°±ìš©)"
        config:
          type: "object"
          description: "í•˜ë“œì›¨ì–´ ì œì–´ ê´€ë ¨ ì„¤ì • (ê°œë°© ì‹œê°„, ë¦´ë ˆì´ ë“±)"
        securityConfig:
          $ref: "#/components/schemas/AccessPointConfig"
          description: "ì ìš©ëœ ë³´ì•ˆ ì •ì±… ì •ë³´ (ë“±ê¸‰, ì¸ì¦ ê·œì¹™ ë“±)"
        devices:
          type: "array"
          items:
            $ref: "#/components/schemas/AccessPointDevice"
          description: "ì—°ê²°ëœ ë¬¼ë¦¬ì  ì¥ë¹„ ëª©ë¡"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    AccessPointDeviceRequest:
      type: "object"
      required: ["deviceId", "deviceRole"]
      properties:
        deviceId:
          type: "string"
          format: "uuid"
          description: "ì—°ê²°í•  ì¥ë¹„ ID"
        deviceRole:
          type: "string"
          enum: ["ENTRY", "EXIT", "CONTROLLER", "SENSOR"]
          description: |
            ì¥ë¹„ì˜ ì—­í•  (ì…ì‹¤ ë¦¬ë”ê¸°, í‡´ì‹¤ ë¦¬ë”ê¸°, ì»¨íŠ¸ë¡¤ëŸ¬ ë“±)<br>
            ENTRYëŠ” from->to ì •ë°©í–¥, EXITëŠ” to->from ì—­ë°©í–¥ ì´ë™ì„ ìœ ë°œí•©ë‹ˆë‹¤.
        portIndex:
          type: "integer"
          description: "ì»¨íŠ¸ë¡¤ëŸ¬ ì—°ê²° í¬íŠ¸ ë²ˆí˜¸ (ì„ íƒ ì‚¬í•­)"
        authenticationModes:
          type: "array"
          items:
            type: "string"
            enum: ["CARD", "PIN", "BIOMETRIC", "MOBILE"]
          description: "ì¸ì¦ íƒ€ì… (ë¦¬ë”ê¸°ì¸ ê²½ìš°, ì„ íƒ ì‚¬í•­)"

    AccessPointDevice:
      type: "object"
      description: "ì¶œì… ì§€ì ì— ì—°ê²°ëœ ì¥ë¹„ ìƒì„¸ ì •ë³´"
      properties:
        deviceId:
          type: "string"
          format: "uuid"
        deviceName:
          type: "string"
          description: "ì¥ë¹„ëª…"
          example: "ì •ë¬¸ ì…ì‹¤ ë¦¬ë”ê¸°"
        deviceCode:
          type: "string"
          description: "ì¥ë¹„ ì½”ë“œ"
          example: "DEV-READER-001"
        deviceType:
          type: "string"
          enum: ["ACU", "READER", "CONTROLLER", "CAMERA", "SENSOR"]
          description: "ì¥ë¹„ íƒ€ì… (ACU, READER, CONTROLLER, CAMERA, SENSOR)"
        deviceRole:
          type: "string"
          enum: ["ENTRY", "EXIT", "CONTROLLER", "SENSOR"]
          description: "ì´ ì¶œì… ì§€ì ì—ì„œì˜ ì—­í• "
        portIndex:
          type: "integer"
          description: "ì—°ê²° í¬íŠ¸ ë²ˆí˜¸" 
        authenticationModes:
          type: "array"
          items:
            type: "string"
            enum: ["CARD", "PIN", "BIOMETRIC", "MOBILE"]
          description: "ì¸ì¦ íƒ€ì… (ë¦¬ë”ê¸°ì¸ ê²½ìš°)"

    AccessPointRequest:
      type: "object"
      required: ["name", "type", "securityConfig"]
      description: |
        ì¶œì… ì§€ì  ìƒì„±/ìˆ˜ì • ìš”ì²­ ê°ì²´.<br>
        `siteId`, `facilityId`, `sectorId`, `areaId` ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ê³µê°„ì„ ì§€ì •í•©ë‹ˆë‹¤.<br>
        **ë³´ì•ˆ ì„¤ì •(Security Config):** <br>
        - **ë³´ì•ˆ ì„ê³„ê°’(Threshold):** ID ì°¸ì¡°ì™€ ì§ì ‘ ê°’ ì…ë ¥ì„ ëª¨ë‘ ì§€ì›í•˜ëŠ” í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ì…ë‹ˆë‹¤. IDê°€ ì…ë ¥ë˜ë©´ IDì˜ ì •ì±…ì„ ë”°ë¥´ê³ , IDê°€ ì—†ìœ¼ë©´ ì§ì ‘ ì…ë ¥ëœ ê°’(Level)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>
        - **ì¸ì¦ ê·œì¹™(Authentication):** ì˜¤ì§ ID ì°¸ì¡°ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. (ì§ì ‘ ì…ë ¥ ë¶ˆê°€)
      properties:
        siteId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† ì‚¬ì´íŠ¸ ID (ì„ íƒ)"
        facilityId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† ì‹œì„¤ë¬¼ ID (ì„ íƒ)"
        sectorId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† ì¸µ/êµ¬íš ID (ì„ íƒ)"
        areaId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† êµ¬ì—­ ID (ì„ íƒ)"
        name:
          type: "string"
        description:
          type: "string"
        code:
          type: "string"
        type:
          type: "string"
          enum: ["DOOR", "GATE_DOOR", "TURNSTILE", "ELEVATOR", "SPEED_GATE", "BARRIER", "SLIDING", "SHUTTER", "BOLLARD"]
          default: "DOOR"
        fromAreaId:
          type: "string"
          format: "uuid"
          nullable: true
        toAreaId:
          type: "string"
          format: "uuid"
          nullable: true
        config:
          type: "object"
          nullable: true
          description: "í•˜ë“œì›¨ì–´ ì œì–´ ì„¤ì • (ê°œë°© ì‹œê°„ ë“±)"
        securityConfig:
          type: "object"
          required: ["entryAuthenticationRuleId", "exitAuthenticationRuleId"]
          properties:
            # --- [ë³´ì•ˆ ì„¤ì • - ì…ì‹¤ (Entry)] ---
            entrySecurityThresholdId:
              type: "string"
              format: "uuid"
              nullable: true
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID (ìš°ì„  ì ìš©)"
            entryAccessLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ì¶œì… ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            entryAntipassbackLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            entryArmingLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ê²½ë¹„(Arming) ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"

            # --- [ë³´ì•ˆ ì„¤ì • - í‡´ì‹¤ (Exit)] ---
            exitSecurityThresholdId:
              type: "string"
              format: "uuid"
              nullable: true
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID (ìš°ì„  ì ìš©)"
            exitAccessLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ì¶œì… ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            exitAntipassbackLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            exitArmingLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ê²½ë¹„(Arming) ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
        devices:
          type: "array"
          description: "ì¶œì… í¬ì¸íŠ¸ ìƒì„± ì‹œ ì—°ê²°í•  ì¥ë¹„ ëª©ë¡"
          items:
            $ref: "#/components/schemas/AccessPointDeviceRequest"

    AccessPointConfig:
      type: "object"
      description: "ì¶œì… ì§€ì ì˜ ë³´ì•ˆ ì •ì±… ì„¤ì • ì •ë³´ (í•˜ì´ë¸Œë¦¬ë“œ ì§€ì›)"
      properties:
        
        # --- [ì…ì‹¤] ---
        entrySecurityThresholdId:
          type: "string"
          format: "uuid"
          description: "ì…ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID"
          nullable: true
        entryAccessLevel:
          type: "integer"
          description: "ì…ì‹¤ ì¶œì… ë ˆë²¨"
          nullable: true
        entryAntipassbackLevel:
          type: "integer"
          description: "ì…ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨"
          nullable: true
        entryArmingLevel:
          type: "integer"
          description: "ì…ì‹¤ ê²½ë¹„ ë ˆë²¨"
          nullable: true
        
        # --- [í‡´ì‹¤] ---
        exitSecurityThresholdId:
          type: "string"
          format: "uuid"
          description: "í‡´ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID"
          nullable: true
        exitAccessLevel:
          type: "integer"
          description: "í‡´ì‹¤ ì¶œì… ë ˆë²¨"
          nullable: true
        exitAntipassbackLevel:
          type: "integer"
          description: "í‡´ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨"
          nullable: true
        exitArmingLevel:
          type: "integer"
          description: "í‡´ì‹¤ ê²½ë¹„ ë ˆë²¨"
          nullable: true

    AccessPointSummary:
      type: "object"
      description: "ê·¸ë£¹ ì¡°íšŒ ì‹œ í¬í•¨ë˜ëŠ” ì¶œì… í¬ì¸íŠ¸ì˜ ìƒì„¸ ìš”ì•½ ì •ë³´"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"
        code:
          type: "string"
          description: "ì¶œì… í¬ì¸íŠ¸ ì½”ë“œ"
          example: "AP-ENT-001"
        description:
          type: "string"
          description: "ì¶œì… í¬ì¸íŠ¸ ì„¤ëª…"
          example: "ë³¸ê´€ ë¹Œë”© 1ì¸µì— ìœ„ì¹˜í•œ ì£¼ìš” ì¶œì…ë¬¸"
        
        siteId:
          type: "string"
          format: "uuid"
          description: "[Read-Only] ì†Œì† ì‚¬ì´íŠ¸ ID"
          readOnly: true
        siteCode:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‚¬ì´íŠ¸ ì½”ë“œ"
          readOnly: true
          example: "SITE-PANGYO"
        siteName:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‚¬ì´íŠ¸ëª…"
          readOnly: true
          example: "íŒêµ ìº í¼ìŠ¤"
        
        facilityId:
          type: "string"
          format: "uuid"
          description: "[Read-Only] ì†Œì† ì‹œì„¤ë¬¼ ID"
          readOnly: true
        facilityCode:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‹œì„¤ë¬¼ ì½”ë“œ"
          readOnly: true
          example: "BUILDING-MAIN"
        facilityName:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‹œì„¤ë¬¼ëª…"
          readOnly: true
          example: "ë³¸ê´€"
        
        sectorId:
          type: "string"
          format: "uuid"
          description: "[Read-Only] ì†Œì† êµ¬íš ID"
          readOnly: true
        sectorCode:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬íš ì½”ë“œ"
          readOnly: true
          example: "1F"
        sectorName:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬íšëª…"
          readOnly: true
          example: "1ì¸µ"
        
        areaId:
          type: "string"
          format: "uuid"
          description: "[Read-Only] ì†Œì† êµ¬ì—­ ID"
          readOnly: true
        areaCode:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬ì—­ ì½”ë“œ"
          readOnly: true
          example: "LOBBY"
        areaName:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬ì—­ëª…"
          readOnly: true
          example: "ë¡œë¹„"

    AccessPointGroup:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "1ì¸µ ì „ì²´ ì¶œì…ë¬¸"
        description:
          type: "string"
          example: "ë³¸ê´€ 1ì¸µì— ìœ„ì¹˜í•œ ëª¨ë“  ì¶œì…ë¬¸ ê·¸ë£¹"
        accessPoints:
          type: "array"
          description: "ê·¸ë£¹ì— í¬í•¨ëœ ì¶œì… í¬ì¸íŠ¸ ëª©ë¡ (ìƒì„¸ ì •ë³´ í¬í•¨)"
          items:
            $ref: "#/components/schemas/AccessPointSummary"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    AccessPointGroupRequest:
      type: "object"
      required: ["name"]
      properties:
        name:
          type: "string"
          description: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ì´ë¦„"
          example: "1ì¸µ ì „ì²´ ì¶œì…ë¬¸"
        description:
          type: "string"
          description: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ì„¤ëª…"
          example: "ë³¸ê´€ 1ì¸µì— ìœ„ì¹˜í•œ ëª¨ë“  ì¶œì…ë¬¸ ê·¸ë£¹"
        accessPointIds:
          type: "array"
          description: "ê·¸ë£¹ì— í¬í•¨ì‹œí‚¬ ì¶œì… í¬ì¸íŠ¸ ID ëª©ë¡"
          items:
            type: "string"
            format: "uuid"

    # ----------------------------------------------------
    # 4. Access Rules (Priority-Based)
    # ----------------------------------------------------
    AccessRule:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description:
          type: "string"
        priority:
          type: "integer"
          description: "ìš°ì„ ìˆœìœ„ (0~255). ë†’ì€ ê°’ì´ ë‚®ì€ ê°’ì„ ì´ê¹ë‹ˆë‹¤. (Override)"
          example: 10
        items:
          type: "array"
          items:
            $ref: "#/components/schemas/AccessRuleItem"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"
      example:
        id: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        organizationId: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        name: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description: "í‰ì¼ 9-6 ê·¼ë¬´ìë¥¼ ìœ„í•œ ê¸°ë³¸ ê·œì¹™"
        priority: 10
        items:
          - accessPointId: "ap-uuid-1"
            accessPointName: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"
            accessPointGroupId: null
            accessPointGroupName: null
            timeScheduleId: "schedule-uuid-1"
            timeScheduleName: "í‰ì¼ ì£¼ê°„ ê·¼ë¬´"
          - accessPointId: null
            accessPointName: null
            accessPointGroupId: "group-uuid-2"
            accessPointGroupName: "ì—°êµ¬ë™ ì „ì²´ ì¶œì…ë¬¸"
            timeScheduleId: "schedule-uuid-2"
            timeScheduleName: "24ì‹œê°„ í—ˆìš©"
        isActive: true
        createdAt: "2025-12-22T06:57:19.336Z"
        updatedAt: "2025-12-22T06:57:19.336Z"          

    AccessRuleItem:
      type: "object"
      description: "ì¶œì… ê·œì¹™ ìƒì„¸ í•­ëª© (ID ë“± ë‚´ë¶€ ì‹ë³„ìëŠ” ì œì™¸í•˜ê³  í•„ìš”í•œ ì •ë³´ë§Œ í¬í•¨)"
      properties:
        
        # [Flexible Mapping] ê·¸ë£¹ ë˜ëŠ” ê°œë³„ ë¬¸ ì¤‘ í•˜ë‚˜ë§Œ ê°’ì„ ê°€ì§
        accessPointId:
          type: "string"
          format: "uuid"
          description: "ê°œë³„ ì¶œì…ë¬¸ ID (ê·¸ë£¹ê³¼ ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬)"
          nullable: true
        accessPointName:
          type: "string"
          description: "[Read-Only] ì¶œì…ë¬¸ ì´ë¦„"
          example: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"
          readOnly: true
          nullable: true
        accessPointGroupId:
          type: "string"
          format: "uuid"
          description: "ì¶œì…ë¬¸ ê·¸ë£¹ ID (ê°œë³„ ë¬¸ê³¼ ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬)"
          nullable: true
        accessPointGroupName:
          type: "string"
          description: "[Read-Only] ì¶œì…ë¬¸ ê·¸ë£¹ ì´ë¦„"
          readOnly: true
          nullable: true
          example: "1ì¸µ ì „ì²´ ì¶œì…ë¬¸"
        timeScheduleId:
          type: "string"
          format: "uuid"
          description: "ì ìš©í•  ì‹œê°„ ìŠ¤ì¼€ì¤„ ID"
        timeScheduleName:
          type: "string"
          description: "[Read-Only] ì‹œê°„ ìŠ¤ì¼€ì¤„ ì´ë¦„"
          readOnly: true
          example: "í‰ì¼ ê·¼ë¬´ì‹œê°„"

    AccessRuleItemRequest:
      type: "object"
      required: ["timeScheduleId"]
      properties:
        accessPointId:
          type: "string"
          format: "uuid"
          description: "ê°œë³„ ì¶œì…ë¬¸ ID (ê·¸ë£¹ IDê°€ ì—†ìœ¼ë©´ í•„ìˆ˜)"
          nullable: true
        accessPointGroupId:
          type: "string"
          format: "uuid"
          description: "ì¶œì…ë¬¸ ê·¸ë£¹ ID (ê°œë³„ ë¬¸ IDê°€ ì—†ìœ¼ë©´ í•„ìˆ˜)"
          nullable: true
        timeScheduleId:
          type: "string"
          format: "uuid"
      oneOf:
        - required: ["accessPointId"]
        - required: ["accessPointGroupId"]

    AccessRuleRequest:
      type: "object"
      required: ["name", "items"]
      properties:
        name:
          type: "string"
          example: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description:
          type: "string"
          example: "ì •ê·œì§ ì§ì›ì—ê²Œ í‰ì¼ ì¶œì… ê¶Œí•œ ë¶€ì—¬"
        priority:
          type: "integer"
          minimum: 0
          maximum: 255
          default: 0
          description: "ìš°ì„ ìˆœìœ„ (0~255). ìˆ«ìê°€ ë†’ì„ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ."
        items:
          type: "array"
          minItems: 1
          items:
            $ref: "#/components/schemas/AccessRuleItemRequest"
        isActive:
          type: "boolean"
          default: 
      example:
        name: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description: "í‰ì¼ 9-6 ê·¼ë¬´ìë¥¼ ìœ„í•œ ê·œì¹™"
        priority: 10
        items:
          - accessPointId: "ap-uuid-1"
            accessPointGroupId: null
            timeScheduleId: "schedule-uuid-1"
          - accessPointId: null
            accessPointGroupId: "group-uuid-2"
            timeScheduleId: "schedule-uuid-2"
        isActive: true

    AccessRuleSummary:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "í‰ì¼ ì£¼ê°„ ì¶œì…"
        description:
          type: "string"
        priority:
          type: "integer"
          example: 10

    # ----------------------------------------------------
    # 5. Personnels Schemas
    # ----------------------------------------------------
    Personnel:
      type: "object"
      description: "ì¶œì… ì£¼ì²´ (ì§ì› ë° ë°©ë¬¸ê°) ì •ë³´. ì•”í˜¸í™”ëœ ë°ì´í„°(`encrypted_data`)ê°€ ë³µí˜¸í™”ëœ êµ¬ì¡°ì…ë‹ˆë‹¤."
      properties:
        id:
          type: "string"
          format: "uuid"
        personnelType:
          type: "string"
          enum: ["EMPLOYEE", "VISITOR"]
          description: "ì¶œì… ì£¼ì²´ êµ¬ë¶„"

        organizationId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† ì¡°ì§ ID"
          example: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        organizationCode:
          type: "string"
          description: "ì†Œì† ì¡°ì§ ì½”ë“œ"
          example: "ORG-001"
        organizationName:
          type: "string"
          description: "ì†Œì† ì¡°ì§ëª…"
          example: "ì£¼ì‹íšŒì‚¬ ë³´ì•ˆì†”ë£¨ì…˜"
        departmentId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† ë¶€ì„œ ID"
          example: "4fa85f64-5717-4562-b3fc-2c963f66afa6"
        departmentCode:
          type: "string"
          description: "ì†Œì† ë¶€ì„œ ì½”ë“œ"
          example: "DEPT-IT"
        departmentName:
          type: "string"
          description: "ì†Œì† ë¶€ì„œëª…"
          example: "ì •ë³´ê¸°ìˆ íŒ€"
        jobId:
          type: "string"
          format: "uuid"
          description: "ìˆ˜í–‰ ì§ë¬´ ID"
          example: "5fa85f64-5717-4562-b3fc-2c963f66afa6"
        jobCode:
          type: "string"
          description: "ìˆ˜í–‰ ì§ë¬´ ì½”ë“œ"
          example: "JOB-DEV"
        jobName:
          type: "string"
          description: "ìˆ˜í–‰ ì§ë¬´ëª…"
          example: "ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œì"
        positionId:
          type: "string"
          format: "uuid"
          description: "ìˆ˜í–‰ ì§ì±… ID"
          example: "6fa85f64-5717-4562-b3fc-2c963f66afa6"
        positionCode:
          type: "string"
          description: "ìˆ˜í–‰ ì§ì±… ì½”ë“œ"
          example: "POS-SENIOR"
        positionName:
          type: "string"
          description: "ìˆ˜í–‰ ì§ì±…ëª…"
          example: "íŒ€ì¥"
        gradeId:
          type: "string"
          format: "uuid"
          description: "ì§ê¸‰ ID"
        gradeCode:
          type: "string"
          description: "ì§ê¸‰ ì½”ë“œ"
          example: "GRD-3"
        gradeName:
          type: "string"
          description: "ì§ê¸‰ëª…"
          example: "ëŒ€ë¦¬"

        employeeId:
          type: "string"
          description: "[ì§ì›] ì‚¬ì› ID"
          example: "E12345"
        employeeCode:
          type: "string"
          description: "[ì§ì›] ì‚¬ì› ì½”ë“œ"
          example: "EMP-2024-001"       
        
        # --- [Common Basic Info] ---
        name:
          type: "string"
          description: "ì‹¤ëª…"
          example: "í™ê¸¸ë™"
        phoneNumber:
          type: "string"
          description: "íœ´ëŒ€ì „í™” ë²ˆí˜¸"
          example: "010-1234-5678"
        email:
          type: "string"
          format: "email"
          description: "ì´ë©”ì¼ ì£¼ì†Œ"
          example: "visitor@example.com"
        profileImageUrl:
          type: "string"
          format: "uri"
          description: "í”„ë¡œí•„ ì‚¬ì§„ URL"
          example: "https://example.com/profiles/honggildong.jpg"
        birthDate:
          type: "string"
          format: "date"
          description: "ìƒë…„ì›”ì¼ (YYYY-MM-DD)"
          example: "1990-01-01"
        carNumber:
          type: "string"
          description: "ì°¨ëŸ‰ ë²ˆí˜¸"
          example: "12ê°€3456"
        zipCode:
          type: "string"
          description: "ìš°í¸ë²ˆí˜¸"
          example: "13529"
        address:
          type: "string"
          description: "ê¸°ë³¸ ì£¼ì†Œ"
          example: "ê²½ê¸°ë„ ì„±ë‚¨ì‹œ ë¶„ë‹¹êµ¬ íŒêµì—­ë¡œ 123"
        detailAddress:
          type: "string"
          description: "ìƒì„¸ ì£¼ì†Œ"
          example: "Aë™ 101í˜¸"
        
        # --- [Sensitive Identity Info (Masked)] ---
        residentRegistrationNumber:
          type: "string"
          description: "ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ (ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë¨)"
          example: "900101-*******"
        socialSecurityNumber:
          type: "string"
          description: "í•´ì™¸ ì‹ë³„ ë²ˆí˜¸ (SSN, ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë¨)"
          example: "***-**-****"
        passportNumber:
          type: "string"
          description: "ì—¬ê¶Œ ë²ˆí˜¸ (ë§ˆìŠ¤í‚¹ ì²˜ë¦¬ë¨)"
          example: "M123****"
        
        # --- [Visitor Specific Info] ---
        visitPurpose:
          type: "string"
          description: "[ë°©ë¬¸ê°] ë°©ë¬¸ ëª©ì "
          example: "ë¹„ì¦ˆë‹ˆìŠ¤ ë¯¸íŒ…"
        validFrom:
          type: "string"
          format: "date-time"
          description: "[ë°©ë¬¸ê°] ì¶œì… í—ˆìš© ì‹œì‘ ì¼ì‹œ"
        validTo:
          type: "string"
          format: "date-time"
          description: "[ë°©ë¬¸ê°] ì¶œì… í—ˆìš© ì¢…ë£Œ ì¼ì‹œ"
        note:
          type: "string"
          description: "[ë°©ë¬¸ê°] ë¹„ê³  (ë³´ì•ˆ ìš”ì› ë©”ëª¨)"
          example: "VIP ì˜ì „ í•„ìš”"

        hostEmployeeInfo:
          $ref: "#/components/schemas/HostEmployeeInfo"
          description: "[ë°©ë¬¸ê°] ì ‘ê²¬ì ì •ë³´ ìŠ¤ëƒ…ìƒ·"

        
        
        # --- [Assigned Access Rules (Granted)] ---
        accessRules:
          type: "array"
          description: "ë¶€ì—¬ëœ ì¶œì… ê·œì¹™ ëª©ë¡"
          items:
            $ref: "#/components/schemas/AccessRuleSummary"
        
        # --- [Registered Credentials] ---
        credentials:
          type: "array"
          description: "ë“±ë¡ëœ ì¸ì¦ ìˆ˜ë‹¨ ëª©ë¡ (ê°’ì€ ë§ˆìŠ¤í‚¹ë¨)"
          items:
            $ref: "#/components/schemas/Credential"

        # --- [Security Policy Info] ---
        securityClearance:
          type: "object"
          description: "ë³´ì•ˆ ë“±ê¸‰ ì •ë³´"
          properties:
            id:
              type: "string"
              format: "uuid"
              description: "ê¸°ì¡´ ë³´ì•ˆ ë“±ê¸‰ ID (ì¡´ì¬ ì‹œ í•´ë‹¹ ì •ì±… ì ìš©)"
            name:
              type: "string"
              description: "ë³´ì•ˆ ë“±ê¸‰ ì´ë¦„"
              example: "ì¼ë°˜ ì„ì§ì›"
            description:
              type: "string"
              description: "ë³´ì•ˆ ë“±ê¸‰ ì„¤ëª…"
              example: "ëŒ€ë¶€ë¶„ì˜ ì„ì§ì›ì—ê²Œ ë¶€ì—¬ë˜ëŠ” ê¸°ë³¸ ì¶œì… ê¶Œí•œ ë“±ê¸‰"
            accessLevel:
              type: "integer"
              description: "ì¶œì… ê¶Œí•œ ë ˆë²¨ ì§ì ‘ ì§€ì • (IDê°€ ì—†ì„ ê²½ìš° í•„ìˆ˜)"
            antipassbackLevel:
              type: "integer"
              description: "ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì§ì ‘ ì§€ì •"
            armingLevel: 
              type: "integer"
              description: "ê²½ë¹„ ë ˆë²¨ ì§ì ‘ ì§€ì •"

        # --- [Common Privacy Info] ---
        privacyAgreementAt:
          type: "string"
          format: "date-time"
          description: "ê°œì¸ì •ë³´ ìˆ˜ì§‘ ë™ì˜ ì¼ì‹œ"
        privacyPolicyVersion:
          type: "string"
          description: "ë™ì˜í•œ ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ ë²„ì „"
        signatureImageUrl:
          type: "string"
          format: "uri"
          description: "ë³´ì•ˆ ì„œì•½ì„œ ì„œëª… ì´ë¯¸ì§€ URL"

        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    PersonnelCreateRequest:
      type: "object"
      required: ["name", "personnelType", "securityClearance"]
      properties:
        personnelType:
          type: "string"
          enum: ["EMPLOYEE", "VISITOR"]
        
        # --- [Common Info] ---
        name:
          type: "string"
        phoneNumber:
          type: "string"
        email:
          type: "string"
          format: "email"
        birthDate:
          type: "string"
          format: "date"
        profileImageUrl:
          type: "string"
          format: "uri"
          description: "í”„ë¡œí•„ ì´ë¯¸ì§€ URL (íŒŒì¼ ì—…ë¡œë“œ ëŒ€ì‹  URL ì…ë ¥ ì‹œ)"
        carNumber:
          type: "string"
        note:
          type: "string"
        zipCode:
          type: "string"
        address:
          type: "string"
        detailAddress:
          type: "string"

        # --- [Sensitive Identity Info] ---
        residentRegistrationNumber:
          type: "string"
          description: "ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ (ì…ë ¥ ì‹œ ì•”í˜¸í™” ì €ì¥)"
        socialSecurityNumber:
          type: "string"
          description: "í•´ì™¸ ì‹ë³„ ë²ˆí˜¸ (SSN)"
        passportNumber:
          type: "string"
          description: "ì—¬ê¶Œ ë²ˆí˜¸"

        # --- [Common Privacy Info] ---
        privacyAgreementAt:
          type: "string"
          format: "date-time"
        privacyPolicyVersion:
          type: "string"
        signatureImageUrl:
          type: "string"
          format: "uri"

         # --- [Link to Existing Employee] ---
        employeeId:
          type: "string"
          format: "uuid"
          description: "[ì§ì›] ì¸ì‚¬ ì„œë¹„ìŠ¤ì˜ ì§ì› ID"

        # --- [Visitor Info] ---
        organizationId:
          type: "string"
          format: "uuid"
          description: "[ë°©ë¬¸ê°] ì†Œì† ì¡°ì§ ID"
        organizationCode:
          type: "string"
          description: "[ë°©ë¬¸ê°] ì†Œì† ì¡°ì§ ì½”ë“œ"
        organizationName:
          type: "string"
          description: "[ë°©ë¬¸ê°] ì†Œì† ì¡°ì§ëª…"
        departmentId:
          type: "string"
          format: "uuid"
          description: "[ë°©ë¬¸ê°] ì†Œì† ë¶€ì„œ ID"
        departmentCode:
          type: "string"
          description: "[ë°©ë¬¸ê°] ì†Œì† ë¶€ì„œ ì½”ë“œ"
        departmentName:
          type: "string"
          description: "[ë°©ë¬¸ê°] ì†Œì† ë¶€ì„œëª…"
        jobId:
          type: "string"
          format: "uuid"
          description: "[ë°©ë¬¸ê°] ìˆ˜í–‰ ì§ë¬´ ID"
        jobCode:
          type: "string"
          description: "[ë°©ë¬¸ê°] ìˆ˜í–‰ ì§ë¬´ ì½”ë“œ"
        jobName:
          type: "string"
          description: "[ë°©ë¬¸ê°] ìˆ˜í–‰ ì§ë¬´ëª…"
        positionId:
          type: "string"
          format: "uuid"
          description: "[ë°©ë¬¸ê°] ìˆ˜í–‰ ì§ì±… ID"
        positionCode:
          type: "string"
          description: "[ë°©ë¬¸ê°] ìˆ˜í–‰ ì§ì±… ì½”ë“œ"
        positionName:
          type: "string"
          description: "[ë°©ë¬¸ê°] ìˆ˜í–‰ ì§ì±…ëª…"
        gradeId:
          type: "string"
          format: "uuid"
          description: "[ë°©ë¬¸ê°] ì§ê¸‰ ID"
        gradeCode:
          type: "string"
          description: "[ë°©ë¬¸ê°] ì§ê¸‰ ì½”ë“œ"
        gradeName:
          type: "string"
          description: "[ë°©ë¬¸ê°] ì§ê¸‰ëª…"
        visitPurpose:
          type: "string"
          description: "[ë°©ë¬¸ê°] ë°©ë¬¸ ëª©ì "
        validFrom:
          type: "string"
          format: "date-time"
          description: "[ë°©ë¬¸ê°] ì¶œì… í—ˆìš© ì‹œì‘ ì¼ì‹œ"
        validTo:
          type: "string"
          format: "date-time"
          description: "[ë°©ë¬¸ê°] ì¶œì… í—ˆìš© ì¢…ë£Œ ì¼ì‹œ"
        
        # ì ‘ê²¬ì ì§€ì •: IDë¡œ ì§€ì •í•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥(ìŠ¤ëƒ…ìƒ·) ê°€ëŠ¥
        hostEmployeeInfo:
          $ref: "#/components/schemas/HostEmployeeInfo"
          description: "[ë°©ë¬¸ê°] ì ‘ê²¬ ì§ì› ì •ë³´ ì§ì ‘ ì…ë ¥ (ID ì—†ì„ ê²½ìš°)"

        # --- [Access Rules & Credentials (One-shot Create)] ---
        accessRuleIds:
          type: "array"
          description: "ë“±ë¡ ì‹œ ë¶€ì—¬í•  ì¶œì… ê·œì¹™ ID ëª©ë¡"
          items:
            type: "string"
            format: "uuid"
        credentials:
          type: "array"
          description: "ë“±ë¡ ì‹œ í•¨ê»˜ ë°œê¸‰í•  ì¸ì¦ ìˆ˜ë‹¨ ëª©ë¡"
          items:
            $ref: "#/components/schemas/CredentialRequest"

        # --- [Security Policy Info] ---
        securityClearance:
          type: "object"
          description: "ë³´ì•ˆ ë“±ê¸‰ ì„¤ì • (í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹: ID ì°¸ì¡° ë˜ëŠ” ì§ì ‘ ë ˆë²¨ ì…ë ¥)"
          properties:
            id:
              type: "string"
              format: "uuid"
              description: "ê¸°ì¡´ ë³´ì•ˆ ë“±ê¸‰ ID (ì¡´ì¬ ì‹œ í•´ë‹¹ ì •ì±… ì ìš©)"
            accessLevel:
              type: "integer"
              description: "ì¶œì… ê¶Œí•œ ë ˆë²¨ ì§ì ‘ ì§€ì • (IDê°€ ì—†ì„ ê²½ìš° í•„ìˆ˜)"
            antipassbackLevel:
              type: "integer"
              description: "ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì§ì ‘ ì§€ì •"
            armingLevel: 
              type: "integer"
              description: "ê²½ë¹„ ë ˆë²¨ ì§ì ‘ ì§€ì •"

    PersonnelUpdateRequest:
      type: "object"
      required: ["name", "personnelType", "securityClearance"]
      properties:
        personnelType:
          type: "string"
          enum: ["EMPLOYEE", "VISITOR"]

        # --- [Link to Existing Employee] ---
        employeeId:
          type: "string"
          format: "uuid"
          description: "[ì§ì› ë“±ë¡ ì‹œ] ì¸ì‚¬ ì„œë¹„ìŠ¤ì˜ ì§ì› ID (ì…ë ¥ ì‹œ ìŠ¤ëƒ…ìƒ· ìë™ ìƒì„±)"
        
        # --- [Common Info] ---
        name:
          type: "string"
        phoneNumber:
          type: "string"
        email:
          type: "string"
          format: "email"
        birthDate:
          type: "string"
          format: "date"
        profileImageUrl:
          type: "string"
          format: "uri"
          description: "í”„ë¡œí•„ ì´ë¯¸ì§€ URL (íŒŒì¼ ì—…ë¡œë“œ ëŒ€ì‹  URL ì…ë ¥ ì‹œ)"
        carNumber:
          type: "string"
        note:
          type: "string"
        zipCode:
          type: "string"
        address:
          type: "string"
        detailAddress:
          type: "string"

        # --- [Sensitive Identity Info] ---
        residentRegistrationNumber:
          type: "string"
          description: "ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ (ì…ë ¥ ì‹œ ì•”í˜¸í™” ì €ì¥)"
        socialSecurityNumber:
          type: "string"
          description: "í•´ì™¸ ì‹ë³„ ë²ˆí˜¸ (SSN)"
        passportNumber:
          type: "string"
          description: "ì—¬ê¶Œ ë²ˆí˜¸"

        # --- [Common Privacy Info] ---
        privacyAgreementAt:
          type: "string"
          format: "date-time"
        privacyPolicyVersion:
          type: "string"
        signatureImageUrl:
          type: "string"
          format: "uri"

        # --- [Visitor Info] ---
        visitPurpose:
          type: "string"
        validFrom:
          type: "string"
          format: "date-time"
        validTo:
          type: "string"
          format: "date-time"
        
        # ì ‘ê²¬ì ì§€ì •: IDë¡œ ì§€ì •í•˜ê±°ë‚˜ ì§ì ‘ ì…ë ¥(ìŠ¤ëƒ…ìƒ·) ê°€ëŠ¥
        hostEmployeeInfo:
          $ref: "#/components/schemas/HostEmployeeInfo"
          description: "[ë°©ë¬¸ê°] ì ‘ê²¬ ì§ì› ì •ë³´ ì§ì ‘ ì…ë ¥ (ID ì—†ì„ ê²½ìš°)"

        # --- [Access Rules] ---
        accessRuleIds:
          type: "array"
          description: "ì¶œì… ê·œì¹™ ID ëª©ë¡ (ê¸°ì¡´ ëª©ë¡ì„ ì´ ëª©ë¡ìœ¼ë¡œ ì „ì²´ êµì²´)"
          items:
            type: "string"
            format: "uuid"
        
        # --- [Security Policy Info] ---
        securityClearance:
          type: "object"
          description: "ë³´ì•ˆ ë“±ê¸‰ ì„¤ì • (í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹: ID ì°¸ì¡° ë˜ëŠ” ì§ì ‘ ë ˆë²¨ ì…ë ¥)"
          properties:
            id:
              type: "string"
              format: "uuid"
              description: "ê¸°ì¡´ ë³´ì•ˆ ë“±ê¸‰ ID (ì¡´ì¬ ì‹œ í•´ë‹¹ ì •ì±… ì ìš©)"
            accessLevel:
              type: "integer"
              description: "ì¶œì… ê¶Œí•œ ë ˆë²¨ ì§ì ‘ ì§€ì • (IDê°€ ì—†ì„ ê²½ìš° í•„ìˆ˜)"
            antipassbackLevel:
              type: "integer"
              description: "ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì§ì ‘ ì§€ì •"
            armingLevel: 
              type: "integer"
              description: "ê²½ë¹„ ë ˆë²¨ ì§ì ‘ ì§€ì •"

    # --- [Support Schemas] ---
    HostEmployeeInfo:
      type: "object"
      description: "ì ‘ê²¬ì ìƒì„¸ ì •ë³´"
      properties:
        id:
          type: "string"
          format: "uuid"
        organizationCode:
          type: "string"
        organizationName:
          type: "string"
        departmentCode:
          type: "string"
        departmentName:
          type: "string"
          example: "ì¸ì‚¬íŒ€"
        jobCode:
          type: "string"
        jobName:
          type: "string"
        positionCode:
          type: "string"
        positionName:
          type: "string"
          example: "ëŒ€ë¦¬"
        gradeCode:
          type: "string"
        gradeName:
          type: "string"
        employeeCode:
          type: "string"
          example: "2023005"
        employeeName:
          type: "string"
          example: "ì´ì¸ì‚¬"
        phoneNumber:
          type: "string"
          example: "010-9999-8888"
        email: 
          type: "string"
          format: "email"

    # ------------------------------------
    # Credential Schemas
    # ------------------------------------
    Credential:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        type:
          type: "string"
          enum: ["CARD", "FINGERPRINT", "FACE", "PIN", "MOBILE", "QR", "LPR"]
          description: "ì¸ì¦ ìˆ˜ë‹¨ ìœ í˜• (RFID, PIN, FACE, LPR ë“±)"
        value:
          type: "string"
          description: "ë§ˆìŠ¤í‚¹ëœ ì¸ì¦ê°’ (ë³´ì•ˆìƒ ì¼ë¶€ë§Œ ë…¸ì¶œ)"
          example: "1234-****"
        status:
          type: "string"
          enum: ["ACTIVE", "SUSPENDED", "EXPIRED", "LOST"]
          description: "ì¸ì¦ ìˆ˜ë‹¨ ìƒíƒœ"
        validFrom:
          type: "string"
          format: "date-time"
          description: "ë§¤ì²´ ìœ íš¨ ì‹œì‘ ì¼ì‹œ (ì—†ìœ¼ë©´ ì¦‰ì‹œ)"
        validTo:
          type: "string"
          format: "date-time"
          description: "ë§¤ì²´ ìœ íš¨ ì¢…ë£Œ ì¼ì‹œ (ì—†ìœ¼ë©´ ë¬´ì œí•œ)"
        metadata:
          type: "object"
          description: "ì¶”ê°€ ë©”íƒ€ë°ì´í„° (ì˜ˆ: Wiegand í¬ë§· ë“±)"
          example: {"format": "WIEGAND_26"}
        issuedAt:
          type: "string"
          format: "date-time"
          description: "ë°œê¸‰ ì¼ì‹œ"

    CredentialRequest:
      type: "object"
      required: ["type", "value"]
      properties:
        type: 
          type: "string"
          enum: ["CARD", "FINGERPRINT", "FACE", "PIN", "MOBILE", "QR", "LPR"]
          description: "ë°œê¸‰í•  ì¸ì¦ ìˆ˜ë‹¨ ìœ í˜•"
        value:
          type: "string"
          description: "ì¸ì¦ ê°’ ì›ë¬¸ (ì¹´ë“œë²ˆí˜¸, PIN ë“±). ì„œë²„ì—ì„œ ì•”í˜¸í™” ì €ì¥ë¨."
          example: "12345678"
        validFrom:
          type: "string"
          format: "date-time"
          description: "ìœ íš¨ê¸°ê°„ ì‹œì‘ì¼ (ìƒëµ ì‹œ ì¦‰ì‹œ ìœ íš¨)"
        validTo:
          type: "string"
          format: "date-time"
          description: "ìœ íš¨ê¸°ê°„ ë§Œë£Œì¼ (ìƒëµ ì‹œ ë¬´ì œí•œ)"
        metadata:
          type: "object"
          description: "ì¶”ê°€ ë©”íƒ€ë°ì´í„° ì…ë ¥"
          example: {"format": "WIEGAND_26"}

    CredentialStatusRequest:
      type: "object"
      required: ["status"]
      properties:
        status:
          type: "string"
          enum: ["ACTIVE", "SUSPENDED", "LOST"]
          description: "ë³€ê²½í•  ìƒíƒœ (í™œì„±, ì¼ì‹œì •ì§€, ë¶„ì‹¤)"
          example: "SUSPENDED"
        reason:
          type: "string"
          description: "ìƒíƒœ ë³€ê²½ ì‚¬ìœ  (ê°ì‚¬ ë¡œê·¸ìš©)"
          example: "ì‚¬ìš©ì ìš”ì²­ì— ì˜í•œ ì¼ì‹œ ì •ì§€"