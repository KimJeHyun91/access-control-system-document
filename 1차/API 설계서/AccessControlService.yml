openapi: "3.0.1"
info:
  title: "Access Control Service API"
  description: |
    ì¶œì… ì œì–´ ì„œë¹„ìŠ¤(Access Control Service)ë¥¼ ìœ„í•œ REST API ëª…ì„¸ì„œì…ë‹ˆë‹¤.<br>
    PostgreSQL ìŠ¤í‚¤ë§ˆë¥¼ ê¸°ë°˜ìœ¼ë¡œ í•˜ë©°, MSA ì•„í‚¤í…ì²˜ í™˜ê²½ì—ì„œì˜ ë…ë¦½ì„±ê³¼ í™•ì¥ì„±ì„ ë³´ì¥í•©ë‹ˆë‹¤.<br>

    ### ğŸ›  í•µì‹¬ ì„¤ê³„ ì›ì¹™
    1. **ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì •ì±… (Priority-Based):** - `access_rules`ì˜ `priority` í•„ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ê¶Œí•œì„ ê²°ì •í•©ë‹ˆë‹¤.
       - ë™ì¼ ìš°ì„ ìˆœìœ„ ê·œì¹™ ê°„ì—ëŠ” **í•©ì§‘í•©(Union)** ì²˜ë¦¬í•˜ë©°, ë†’ì€ ìš°ì„ ìˆœìœ„ ê·œì¹™ì€ í•˜ìœ„ ê·œì¹™ì„ **ë¬´ë ¥í™”(Override)**í•©ë‹ˆë‹¤.
    2. **ê³µê°„ ë° ê²½ë¡œ ê´€ë¦¬ (Spatial Management):**
       - **areaId:** ì¥ë¹„ê°€ ì„¤ì¹˜ëœ ë¬¼ë¦¬ì  ìœ„ì¹˜(ìì‚° ê´€ë¦¬/UI íŠ¸ë¦¬ìš©).
       - **fromAreaId / toAreaId:** ë³´ì•ˆ ë¡œì§ìš© ì´ë™ ê²½ë¡œ(ì•ˆí‹°íŒ¨ìŠ¤ë°± ë° ì¬ì‹¤ ê´€ë¦¬ìš©).
    3. **ë³´ì•ˆ ë¬´ê²°ì„± (Security & Privacy):**
       - ê°œì¸ì •ë³´(PII) ë° ë¡œê·¸ ìŠ¤ëƒ…ìƒ·ì€ AES-256 ì•”í˜¸í™” ì²˜ë¦¬ë©ë‹ˆë‹¤.
       - ë¡œê·¸ í…Œì´ë¸”ì˜ `updatedAt`ì´ ì¡´ì¬í•  ê²½ìš° ë¹„ì •ìƒì ì¸ ë°ì´í„° ìˆ˜ì • ì‹œë„ë¡œ ê°„ì£¼í•©ë‹ˆë‹¤.
    4. **Multi-tenancy ì§€ì›:** `organizationId`ë¥¼ í†µí•œ ì¡°ì§ë³„ ë°ì´í„° ê²©ë¦¬ë¥¼ ì§€ì›í•©ë‹ˆë‹¤.

  version: "1.0.1"
  contact:
    name: "Jehyun Kim"
servers:
  - url: "http://localhost:4300/api"
    description: "ë¡œì»¬ ê°œë°œ ì„œë²„"     

tags:
  - name: "1. Time Policy Management"
    description: "ì‹œê°„ ì •ì±… (ìŠ¤ì¼€ì¥´ ë° ê³µíœ´ì¼) ê´€ë¦¬"
  - name: "2. Security Level Management"
    description: "ë³´ì•ˆ ë“±ê¸‰(Clearance) ë° ì„ê³„ê°’(Threshold) ê´€ë¦¬"
  - name: "3. Access Point Management"
    description: "ì¶œì… í¬ì¸íŠ¸ ê´€ë¦¬ (ë³´ì•ˆ ì„¤ì •, ê·¸ë£¹í•‘, ì¥ë¹„ CRUD í†µí•©)"
  - name: "4. Access Rules"
    description: "ì¶œì… ê·œì¹™(Where + When) ì •ì˜ ë° ìš°ì„ ìˆœìœ„ ê´€ë¦¬"
  - name: "5. Personnels"
    description: "ì¶œì… ì£¼ì²´(ì§ì›/ë°©ë¬¸ê°) ê´€ë¦¬"
  - name: "6. Authentication"
    description: "ì¸ì¦ ê·œì¹™ ë° ìˆ˜ë‹¨(Credential) ê´€ë¦¬"
  - name: "7. Access Grants"
    description: "ê¶Œí•œ ë¶€ì—¬ ë° ì´ë ¥"
  - name: "8. Interlocks"
    description: "ì¸í„°ë½(Man-trap) ì—°ë™ ì œì–´"

paths:
  # ==========================================
  # 1. Time Policy Management
  # ==========================================
  /time-schedules:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¡°ê±´ì— ë§ëŠ” ì‹œê°„ ìŠ¤ì¼€ì¥´ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        ëª¨ë“  ìš”ì¼(7ê°œ)ê³¼ ì •ì˜ëœ ê³µíœ´ì¼ íƒ€ì…ì— ëŒ€í•œ ìƒì„¸ ì„¤ì •ì´ í¬í•¨ë˜ì–´ ë°˜í™˜ë©ë‹ˆë‹¤.<br>
        ê³µíœ´ì¼ ìŠ¬ë¡¯(ì˜ˆ: HOL1...)ì—ëŠ” ë§¤í•‘ëœ ê³µíœ´ì¼ì˜ ìƒì„¸ ì •ë³´(ì´ë¦„, ë‚ ì§œ ëª©ë¡ ë“±)ê°€ í¬í•¨ë©ë‹ˆë‹¤.<br>
        í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬ ë° ë‹¤ì–‘í•œ í•„í„°ë§(ì´ë¦„, ì½”ë“œ, ì„¤ëª…, í™œì„±í™” ì—¬ë¶€)ì„ ì§€ì›í•©ë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„° (ê´€ë¦¬ììš©, ì¼ë°˜ ì‚¬ìš©ìëŠ” ìë™ ê³ ì •)"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "description"
          in: "query"
          description: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì„¤ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "code"
          in: "query"
          description: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì½”ë“œ ê²€ìƒ‰ (ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "isActive"
          in: "query"
          description: "í™œì„±í™” ì—¬ë¶€ í•„í„° (true: í™œì„±, false: ë¹„í™œì„±, ë¯¸ì…ë ¥: ì „ì²´)"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          description: "í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘). ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(0)ì´ ì ìš©ë©ë‹ˆë‹¤."
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          description: |
            í˜ì´ì§€ ë‹¹ í•­ëª© ìˆ˜. ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(1000)ì´ ì ìš©ë©ë‹ˆë‹¤.<br>
            (ì£¼ì˜: ë°ì´í„°ê°€ ë§ì„ ê²½ìš°, í•œ ë²ˆì— ë„ˆë¬´ ë§ì€ í•­ëª©ì„ ì¡°íšŒí•˜ë©´ ì‘ë‹µ ì†ë„ê°€ ëŠë ¤ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: createdAt,desc (ìµœì‹ ìˆœ), name,asc (ì´ë¦„ìˆœ)<br>
            ë‹¤ì¤‘ ì •ë ¬ ê°€ëŠ¥
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeScheduleListResponse"
              examples:
                fullExample:
                  summary: "ë‹¤ì–‘í•œ ìŠ¤ì¼€ì¥´ ìœ í˜• ë° ê³µíœ´ì¼ ë§¤í•‘ í¬í•¨ ì˜ˆì‹œ"
                  value:
                    content:
                      - id: "123e4567-e89b-12d3-a456-426614174001"
                        name: "í‰ì¼ ê·¼ë¬´ì‹œê°„ (ì»¤ìŠ¤í…€)"
                        description: "í‰ì¼ 09:00 ~ 12:00, 13:00 ~ 18:00 ê·¼ë¬´"
                        code: "SCH-001"
                        details:
                          - dayOfWeek: "MON"
                            type: "CUSTOM"
                            timeSlots:
                              - startTime: "09:00:00"
                                endTime: "12:00:00"
                              - startTime: "13:00:00"
                                endTime: "18:00:00"
                          - dayOfWeek: "TUE"
                            type: "CUSTOM"
                            timeSlots:
                              - startTime: "09:00:00"
                                endTime: "12:00:00"
                              - startTime: "13:00:00"
                                endTime: "18:00:00"
                          - dayOfWeek: "WED"
                            type: "CUSTOM"
                            timeSlots:
                              - startTime: "09:00:00"
                                endTime: "12:00:00"
                              - startTime: "13:00:00"
                                endTime: "18:00:00"
                          - dayOfWeek: "THU"
                            type: "CUSTOM"
                            timeSlots:
                              - startTime: "09:00:00"
                                endTime: "12:00:00"
                              - startTime: "13:00:00"
                                endTime: "18:00:00"
                          - dayOfWeek: "FRI"
                            type: "CUSTOM"
                            timeSlots:
                              - startTime: "09:00:00"
                                endTime: "12:00:00"
                              - startTime: "13:00:00"
                                endTime: "18:00:00"
                          - dayOfWeek: "SAT"
                            type: "ALWAYS_DENIED"
                            timeSlots: []
                          - dayOfWeek: "SUN"
                            type: "ALWAYS_DENIED"
                            timeSlots: []
                          - dayOfWeek: "HOL1"
                            type: "ALWAYS_DENIED"
                            holiday:
                              id: "holiday-uuid-1"
                              name: "ì‹ ì •"
                              dates: ["2024-01-01"]
                            timeSlots: []
                          - dayOfWeek: "HOL2"
                            type: "ALWAYS_DENIED"
                            holiday:
                              id: "holiday-uuid-2"
                              name: "ì„¤ë‚  ì—°íœ´"
                              dates: ["2024-02-09", "2024-02-10", "2024-02-11", "2024-02-12"]
                            timeSlots: []
                          - dayOfWeek: "HOL3"
                            type: "ALWAYS_DENIED"
                            holiday:
                              id: "holiday-uuid-3"
                              name: "ì‚¼ì¼ì ˆ"
                              dates: ["2024-03-01"]
                            timeSlots: []
                        isActive: true
                        createdAt: "2024-01-01T09:00:00Z"
                        updatedAt: "2024-01-01T09:00:00Z"
                    page:
                      size: 20
                      page: 0
                      totalElements: 1
                      totalPages: 1
                      isLast: true
                      hasNext: false

    post:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ì‹œê°„ ìŠ¤ì¼€ì¥´ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
        ìƒì„± ì‹œ ë°˜ë“œì‹œ ëª¨ë“  ìš”ì¼(MON~SUN)ì— ëŒ€í•œ ì„¤ì •ì´ í¬í•¨ë˜ì–´ì•¼ í•˜ë©°, í•„ìš”í•œ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì„ ì¶”ê°€ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
        ê³µíœ´ì¼ íƒ€ì…ì˜ ê²½ìš°, ì‚¬ì „ì— ë“±ë¡ëœ ê³µíœ´ì¼ ID(id)ë¥¼ ë§¤í•‘í•˜ì—¬ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**<br>
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.<br>
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TimeScheduleRequest"
            examples:
              createScheduleExample:
                summary: "í‰ì¼ ê·¼ë¬´(09-18) ë° ê³µíœ´ì¼ íœ´ë¬´ ì„¤ì • ì…ë ¥ ì˜ˆì‹œ"
                value:
                  name: "ì¼ë°˜ í‰ì¼ ê·¼ë¬´"
                  description: "ì›”~ê¸ˆ 09:00~18:00 ê·¼ë¬´ (ì ì‹¬ì‹œê°„ 12:00~13:00 ì œì™¸), ì£¼ë§ ë° ê³µíœ´ì¼ ì¶œì… ë¶ˆê°€"
                  code: "SCH-REGULAR-01"
                  details:
                    - dayOfWeek: "MON"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:00:00"
                          endTime: "12:00:00"
                        - startTime: "13:00:00"
                          endTime: "18:00:00"
                    - dayOfWeek: "TUE"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:00:00"
                          endTime: "12:00:00"
                        - startTime: "13:00:00"
                          endTime: "18:00:00"
                    - dayOfWeek: "WED"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:00:00"
                          endTime: "12:00:00"
                        - startTime: "13:00:00"
                          endTime: "18:00:00"
                    - dayOfWeek: "THU"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:00:00"
                          endTime: "12:00:00"
                        - startTime: "13:00:00"
                          endTime: "18:00:00"
                    - dayOfWeek: "FRI"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:00:00"
                          endTime: "12:00:00"
                        - startTime: "13:00:00"
                          endTime: "18:00:00"
                    - dayOfWeek: "SAT"
                      type: "ALWAYS_DENIED"
                      timeSlots: []
                    - dayOfWeek: "SUN"
                      type: "ALWAYS_DENIED"
                      timeSlots: []
                    - dayOfWeek: "HOL1"
                      type: "ALWAYS_DENIED"
                      timeSlots: []
                      holidayId: "holiday-uuid-152"
                    - dayOfWeek: "HOL2"
                      type: "ALWAYS_ALLOWED"
                      timeSlots: []
                      holidayId: "holiday-uuid-221"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeSchedule"
              examples:
                createdResponse:
                  summary: "ìƒì„±ëœ ì‹œê°„ ìŠ¤ì¼€ì¥´ ì‘ë‹µ"
                  value:
                    id: "123e4567-e89b-12d3-a456-426614174001"
                    name: "ì¼ë°˜ í‰ì¼ ê·¼ë¬´"
                    description: "ì›”~ê¸ˆ 09:00~18:00 ê·¼ë¬´ (ì ì‹¬ì‹œê°„ 12:00~13:00 ì œì™¸), ì£¼ë§ ë° ê³µíœ´ì¼ ì¶œì… ë¶ˆê°€"
                    code: "SCH-REGULAR-01"
                    details:
                      - dayOfWeek: "MON"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "TUE"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "WED"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "THU"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "FRI"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "SAT"
                        type: "ALWAYS_DENIED"
                        timeSlots: []
                      - dayOfWeek: "SUN"
                        type: "ALWAYS_DENIED"
                        timeSlots: []
                      - dayOfWeek: "HOL1"
                        type: "ALWAYS_DENIED"
                        holiday:
                          id: "holiday-uuid-152"
                          name: "ì‹ ì •"
                          dates: ["2024-01-01"]
                        timeSlots: []
                    isActive: true
                    createdAt: "2024-01-01T09:00:00Z"
                    updatedAt: "2024-01-01T09:00:00Z"
        '409':
          $ref: "#/components/responses/Conflict"

  /time-schedules/{id}:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeSchedule"
              examples:
                singleSchedule:
                  summary: "ë‹¨ì¼ ìŠ¤ì¼€ì¥´ ì¡°íšŒ ì‘ë‹µ"
                  value:
                    id: "123e4567-e89b-12d3-a456-426614174001"
                    name: "ì¼ë°˜ í‰ì¼ ê·¼ë¬´"
                    description: "ì›”~ê¸ˆ 09:00~18:00 ê·¼ë¬´ (ì ì‹¬ì‹œê°„ 12:00~13:00 ì œì™¸), ì£¼ë§ ë° ê³µíœ´ì¼ ì¶œì… ë¶ˆê°€"
                    code: "SCH-REGULAR-01"
                    details:
                      - dayOfWeek: "MON"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "TUE"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "WED"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "THU"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "FRI"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:00:00"
                            endTime: "12:00:00"
                          - startTime: "13:00:00"
                            endTime: "18:00:00"
                      - dayOfWeek: "SAT"
                        type: "ALWAYS_DENIED"
                        timeSlots: []
                      - dayOfWeek: "SUN"
                        type: "ALWAYS_DENIED"
                        timeSlots: []
                      - dayOfWeek: "HOL1"
                        type: "ALWAYS_DENIED"
                        holiday:
                          id: "holiday-uuid-1"
                          name: "ì‹ ì •"
                          dates: ["2024-01-01"]
                        timeSlots: []
                    isActive: true
                    createdAt: "2024-01-01T09:00:00Z"
                    updatedAt: "2024-01-01T09:00:00Z"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ìˆ˜ì •"
      description: |
        ì‹œê°„ ìŠ¤ì¼€ì¥´ ì •ë³´ë¥¼ ì „ì²´ ìˆ˜ì •í•©ë‹ˆë‹¤ (Replacement).
        
        **ì£¼ì˜ì‚¬í•­:**
        - ê¸°ì¡´ ë°ì´í„°ë¥¼ ìš”ì²­ ë³¸ë¬¸(Body)ì˜ ë°ì´í„°ë¡œ **ì™„ì „íˆ ë®ì–´ì”ë‹ˆë‹¤.**
        - ë”°ë¼ì„œ `details` ë¦¬ìŠ¤íŠ¸ì— í¬í•¨ë˜ì§€ ì•Šì€ ê¸°ì¡´ ì„¤ì •(ì˜ˆ: ê¸°ì¡´ì— ì¡´ì¬í•˜ë˜ HOL4 ì„¤ì • ë“±)ì€ **ì‚­ì œ**ë©ë‹ˆë‹¤.
        - ìˆ˜ì • ì‹œ ìœ ì§€í•˜ë ¤ëŠ” ëª¨ë“  ìš”ì¼ê³¼ ê³µíœ´ì¼ ì„¤ì •ì„ í¬í•¨í•´ì„œ ë³´ë‚´ì•¼ í•©ë‹ˆë‹¤.
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TimeScheduleRequest"
            examples:
              updateExample:
                summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì „ì²´ ìˆ˜ì • ìš”ì²­ ì˜ˆì‹œ"
                value:
                  name: "ì¼ë°˜ í‰ì¼ ê·¼ë¬´ (ìˆ˜ì •ë¨)"
                  description: "ì„¤ëª…ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. (09:30 ì¶œê·¼)"
                  code: "SCH-REGULAR-01"
                  isActive: true
                  details:
                    - dayOfWeek: "MON"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:30:00"
                          endTime: "18:30:00"
                    - dayOfWeek: "TUE"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:30:00"
                          endTime: "18:30:00"
                    - dayOfWeek: "WED"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:30:00"
                          endTime: "18:30:00"
                    - dayOfWeek: "THU"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:30:00"
                          endTime: "18:30:00"
                    - dayOfWeek: "FRI"
                      type: "CUSTOM"
                      timeSlots:
                        - startTime: "09:30:00"
                          endTime: "18:30:00"
                    - dayOfWeek: "SAT"
                      type: "ALWAYS_DENIED"
                      timeSlots: []
                    - dayOfWeek: "SUN"
                      type: "ALWAYS_DENIED"
                      timeSlots: []
                    - dayOfWeek: "HOL1"
                      type: "ALWAYS_DENIED"
                      timeSlots: []
                      holidayId: "holiday-uuid-152"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TimeSchedule"
              examples:
                updatedResponse:
                  summary: "ìˆ˜ì •ëœ ì‹œê°„ ìŠ¤ì¼€ì¥´ ì‘ë‹µ"
                  value:
                    id: "123e4567-e89b-12d3-a456-426614174001"
                    name: "ì¼ë°˜ í‰ì¼ ê·¼ë¬´ (ìˆ˜ì •ë¨)"
                    description: "ì„¤ëª…ì´ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤. (09:30 ì¶œê·¼)"
                    code: "SCH-REGULAR-01"
                    details:
                      - dayOfWeek: "MON"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:30:00"
                            endTime: "18:30:00"
                      - dayOfWeek: "TUE"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:30:00"
                            endTime: "18:30:00"
                      - dayOfWeek: "WED"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:30:00"
                            endTime: "18:30:00"
                      - dayOfWeek: "THU"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:30:00"
                            endTime: "18:30:00"
                      - dayOfWeek: "FRI"
                        type: "CUSTOM"
                        timeSlots:
                          - startTime: "09:30:00"
                            endTime: "18:30:00"
                      - dayOfWeek: "SAT"
                        type: "ALWAYS_DENIED"
                        timeSlots: []
                      - dayOfWeek: "SUN"
                        type: "ALWAYS_DENIED"
                        timeSlots: []
                      - dayOfWeek: "HOL1"
                        type: "ALWAYS_DENIED"
                        holiday:
                          id: "holiday-uuid-152"
                          name: "ì‹ ì •"
                          dates: ["2024-01-01"]
                        timeSlots: []
                    isActive: true
                    createdAt: "2024-01-01T09:00:00Z"
                    updatedAt: "2024-01-10T15:00:00Z"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["1. Time Policy Management"]
      summary: "ì‹œê°„ ìŠ¤ì¼€ì¥´ ì‚­ì œ"
      description: |
        ì‹œê°„ ìŠ¤ì¼€ì¥´ì„ ì‚­ì œí•©ë‹ˆë‹¤.
        ì„œë²„ ì •ì±…ì— ë”°ë¼ ë…¼ë¦¬ì  ì‚­ì œ(Soft Delete) ë˜ëŠ” ë¬¼ë¦¬ì  ì‚­ì œ(Hard Delete)ê°€ ìˆ˜í–‰ë  ìˆ˜ ìˆìœ¼ë©°, ê²°ê³¼ì— í•´ë‹¹ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
              examples:
                softDeleteExample:
                  summary: "ë…¼ë¦¬ì  ì‚­ì œ(Soft Delete) ê²°ê³¼ ì˜ˆì‹œ"
                  value:
                    id: "123e4567-e89b-12d3-a456-426614174000"
                    isSoftDeleted: true
                    isHardDeleted: false
        '404':
          $ref: "#/components/responses/NotFound"

  /holidays:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¡°ê±´ì— ë§ëŠ” ê³µíœ´ì¼ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
        í˜ì´ì§€ë„¤ì´ì…˜, ì •ë ¬ ë° ë‹¤ì–‘í•œ í•„í„°ë§(ì´ë¦„, ì½”ë“œ, ì„¤ëª…, ë°˜ë³µ ì—¬ë¶€ ë“±)ì„ ì§€ì›í•©ë‹ˆë‹¤.
        
        **ì°¸ê³ :** `isRecurring`ì´ `true`ì¸ ê³µíœ´ì¼ì˜ ê²½ìš°, ì„œë²„ ì„¤ì •(ì˜ˆ: í˜„ì¬ ì—°ë„ ì „í›„ 1ë…„)ì— ë”°ë¼ ìë™ìœ¼ë¡œ ê³„ì‚°ëœ ì—°ë„ê°€ í¬í•¨ëœ ë‚ ì§œ ëª©ë¡(`items`)ì´ ë°˜í™˜ë©ë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ê³µíœ´ì¼ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "description"
          in: "query"
          description: "ê³µíœ´ì¼ ì„¤ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "code"
          in: "query"
          description: "ê³µíœ´ì¼ ì½”ë“œ ê²€ìƒ‰ (ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "isRecurring"
          in: "query"
          description: "ë§¤ë…„ ë°˜ë³µ ì—¬ë¶€ í•„í„°"
          schema:
            type: "boolean"
        - name: "isActive"
          in: "query"
          description: "í™œì„±í™” ì—¬ë¶€ í•„í„° (true: í™œì„±, false: ë¹„í™œì„±, ë¯¸ì…ë ¥: ì „ì²´)"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          description: "í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘). ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(0)ì´ ì ìš©ë©ë‹ˆë‹¤."
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          description: |
            í˜ì´ì§€ ë‹¹ í•­ëª© ìˆ˜.
            ê°’ì„ ì…ë ¥í•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ê°’(1000)ì´ ì ìš©ë©ë‹ˆë‹¤.
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)
            ì˜ˆ: holidayDate,asc (ë‚ ì§œìˆœ), name,asc (ì´ë¦„ìˆœ)
            ë‹¤ì¤‘ ì •ë ¬ ê°€ëŠ¥
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/HolidayListResponse"
              examples:
                holidayListExample:
                  summary: "ê³µíœ´ì¼ ëª©ë¡ ì¡°íšŒ ê²°ê³¼ ì˜ˆì‹œ"
                  value:
                    content:
                      - id: "holiday-uuid-1"
                        name: "ì‹ ì • (ë§¤ë…„ ë°˜ë³µ)"
                        description: "ë§¤ë…„ 1ì›” 1ì¼"
                        code: "HOL-001"
                        isRecurring: true
                        items:
                          - id: "item-gen-1"
                            holidayDate: "2025-01-01"
                            isSubstitute: false
                        isActive: true
                      - id: "holiday-uuid-2"
                        name: "2024ë…„ ì„¤ë‚  ì—°íœ´"
                        description: "2024ë…„ ì„¤ë‚  ë° ëŒ€ì²´ê³µíœ´ì¼"
                        code: "HOL-2024-SEOL"
                        isRecurring: false
                        items:
                          - id: "item-uuid-3"
                            holidayDate: "2024-02-09"
                            isSubstitute: false
                          - id: "item-uuid-4"
                            holidayDate: "2024-02-10"
                            isSubstitute: false
                          - id: "item-uuid-5"
                            holidayDate: "2024-02-11"
                            isSubstitute: false
                          - id: "item-uuid-6"
                            holidayDate: "2024-02-12"
                            isSubstitute: true
                        isActive: true
                    page:
                      size: 20
                      page: 0
                      totalElements: 2
                      totalPages: 1
                      isLast: true
                      hasNext: false

    post:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ë“±ë¡"
      description: |
        ìƒˆë¡œìš´ ê³µíœ´ì¼ ê·¸ë£¹ì„ ë“±ë¡í•©ë‹ˆë‹¤.
        
        **ë‚ ì§œ ì…ë ¥ ê·œì¹™:**
        - `isRecurring: true` (ë§¤ë…„ ë°˜ë³µ): `holidayDate`ì— **"MM-DD"** í˜•ì‹ ì…ë ¥ (ì˜ˆ: "01-01")
        - `isRecurring: false` (ë‹¨ë°œì„±): `holidayDate`ì— **"YYYY-MM-DD"** í˜•ì‹ ì…ë ¥ (ì˜ˆ: "2024-02-10")
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/HolidayRequest"
            examples:
              recurringHoliday:
                summary: "ë§¤ë…„ ë°˜ë³µë˜ëŠ” ê³µíœ´ì¼(ì‹ ì •) ë“±ë¡ ì˜ˆì‹œ"
                value:
                  name: "ì‹ ì •"
                  description: "ë§¤ë…„ 1ì›” 1ì¼ì€ ì‹ ì •ì…ë‹ˆë‹¤."
                  code: "HOL-001"
                  isRecurring: true
                  items:
                    - holidayDate: "01-01"
                      isSubstitute: false
              oneTimeHoliday:
                summary: "íŠ¹ì • ì—°ë„ ê³µíœ´ì¼(ì„¤ë‚ ) ë“±ë¡ ì˜ˆì‹œ"
                value:
                  name: "2024ë…„ ì„¤ë‚ "
                  description: "2024ë…„ ê°‘ì§„ë…„ ì„¤ë‚  ì—°íœ´"
                  code: "HOL-2024-SEOL"
                  isRecurring: false
                  items:
                    - holidayDate: "2024-02-09"
                    - holidayDate: "2024-02-10"
                    - holidayDate: "2024-02-11"
                    - holidayDate: "2024-02-12"
                      isSubstitute: true
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
              examples:
                createdResponse:
                  summary: "ìƒì„±ëœ ê³µíœ´ì¼ ì‘ë‹µ"
                  value:
                    id: "holiday-uuid-1"
                    name: "ì‹ ì •"
                    description: "ë§¤ë…„ 1ì›” 1ì¼ì€ ì‹ ì •ì…ë‹ˆë‹¤."
                    code: "HOL-001"
                    isRecurring: true
                    items:
                      - id: "item-gen-1"
                        holidayDate: "2024-01-01"
                        isSubstitute: false
                      - id: "item-gen-2"
                        holidayDate: "2025-01-01"
                        isSubstitute: false
                    isActive: true
        '409':
          $ref: "#/components/responses/Conflict"

  /holidays/{id}:
    get:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
              examples:
                singleHoliday:
                  summary: "ë‹¨ê±´ ì¡°íšŒ ì˜ˆì‹œ"
                  value:
                    id: "holiday-uuid-1"                    
                    name: "ì‹ ì •"
                    description: "ë§¤ë…„ 1ì›” 1ì¼"
                    code: "HOL-001"
                    isRecurring: true
                    isActive: true
                    items:
                      - id: "item-gen-1"
                        holidayDate: "2024-01-01"
                        isSubstitute: false
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ìˆ˜ì •"
      description: |
        ê³µíœ´ì¼ ì •ë³´ë¥¼ ì „ì²´ ìˆ˜ì •í•©ë‹ˆë‹¤ (Replacement).
        
        **ì£¼ì˜ì‚¬í•­:**
        - ê¸°ì¡´ ë°ì´í„°ë¥¼ ìš”ì²­ ë³¸ë¬¸(Body)ì˜ ë°ì´í„°ë¡œ **ì™„ì „íˆ ë®ì–´ì”ë‹ˆë‹¤.**
        - `items` ë¦¬ìŠ¤íŠ¸ë„ ìƒˆë¡œ ì „ë‹¬ëœ ëª©ë¡ìœ¼ë¡œ êµì²´ë©ë‹ˆë‹¤.
        
        **ë‚ ì§œ ì…ë ¥ ê·œì¹™ (isRecurring ë³€ê²½ ì‹œ ì£¼ì˜):**
        - `isRecurring`ì„ `true`ë¡œ ì„¤ì •/ë³€ê²½ ì‹œ: `holidayDate`ëŠ” **"MM-DD"** í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
        - `isRecurring`ì„ `false`ë¡œ ì„¤ì •/ë³€ê²½ ì‹œ: `holidayDate`ëŠ” **"YYYY-MM-DD"** í˜•ì‹ì´ì–´ì•¼ í•©ë‹ˆë‹¤.
        
        **ìœ ë‹ˆí¬ ì œì•½ ì¡°ê±´:**
        - `name`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
        - `code`: ì¡°ì§(`organizationId`) ë‚´ì—ì„œ ìœ ì¼í•´ì•¼ í•©ë‹ˆë‹¤. (ìê¸° ìì‹  ì œì™¸)
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/HolidayRequest"
            examples:
              updateExample:
                summary: "ê³µíœ´ì¼ ìˆ˜ì • ìš”ì²­ ì˜ˆì‹œ"
                value:
                  name: "ì‹ ì • (ìˆ˜ì •ë¨)"
                  description: "ì„¤ëª… ë³€ê²½ë¨"
                  code: "HOL-001"
                  isRecurring: true
                  isActive: true
                  items:
                    - holidayDate: "01-01"
                      isSubstitute: false
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Holiday"
              examples:
                updatedResponse:
                  summary: "ìˆ˜ì •ëœ ê³µíœ´ì¼ ì‘ë‹µ"
                  value:
                    id: "holiday-uuid-1"
                    name: "ì‹ ì • (ìˆ˜ì •ë¨)"
                    description: "ì„¤ëª… ë³€ê²½ë¨"
                    code: "HOL-001"
                    isRecurring: true
                    items:
                      - id: "item-gen-2"
                        holidayDate: "2025-01-01"
                        isSubstitute: false
                    isActive: true
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["1. Time Policy Management"]
      summary: "ê³µíœ´ì¼ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
              examples:
                deleteResponse:
                  summary: "ê³µíœ´ì¼ ì‚­ì œ ê²°ê³¼"
                  value:
                    id: "holiday-uuid-1"
                    isSoftDeleted: true
                    isHardDeleted: false
        '404':
          $ref: "#/components/responses/NotFound"


  # ==========================================
  # 2. Security Level Management
  # ==========================================
  /security-clearances:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰(Security Clearance) ëª©ë¡ ì¡°íšŒ"
      description: |
        ì‚¬ëŒ(Personnel)ì—ê²Œ ë¶€ì—¬í•  ìˆ˜ ìˆëŠ” ë³´ì•ˆ ë“±ê¸‰(ì¸ê°€ ë“±ê¸‰) ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        `accessLevel`ì´ ë†’ì„ìˆ˜ë¡ ë” ë†’ì€ ë³´ì•ˆ ì„ê³„ê°’(Threshold)ì„ ê°€ì§„ ë¬¸ì„ í†µê³¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ë“±ê¸‰ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "accessLevel"
          in: "query"
          description: "ì¶œì… ê¶Œí•œ ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "antipassbackLevel"
          in: "query"
          description: "ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "armingLevel"
          in: "query"
          description: "ê²½ë¹„ ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: accessLevel,desc (ë†’ì€ ë“±ê¸‰ìˆœ), name,asc (ì´ë¦„ìˆœ)
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/SecurityClearance"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ë³´ì•ˆ ë“±ê¸‰ì„ ìƒì„±í•©ë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityClearanceRequest"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityClearance"
        '409':
          $ref: "#/components/responses/Conflict"

  /security-clearances/{id}:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityClearance"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ìˆ˜ì •"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityClearanceRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityClearance"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ë“±ê¸‰ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  /security-thresholds:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’(Security Threshold) ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¶œì…ë¬¸(Access Point)ì— ì„¤ì •í•  ìˆ˜ ìˆëŠ” ìµœì†Œ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        `minAccessLevel`ë³´ë‹¤ ë‚®ì€ `accessLevel`ì„ ê°€ì§„ ì‚¬ëŒì€ ì¶œì…ì´ ê±°ë¶€ë©ë‹ˆë‹¤.<br>
      parameters:
        - name: "organizationId"
          in: "query"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ì„ê³„ê°’ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "minAccessLevel"
          in: "query"
          description: "ìµœì†Œ ì¶œì… ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "minAntipassbackLevel"
          in: "query"
          description: "ìµœì†Œ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "minArmingLevel"
          in: "query"
          description: "ìµœì†Œ ê²½ë¹„ ë ˆë²¨ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: minAccessLevel,asc (ë‚®ì€ ë ˆë²¨ìˆœ), name,asc
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/SecurityThreshold"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ìƒì„±"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityThresholdRequest"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityThreshold"
        '409':
          $ref: "#/components/responses/Conflict"

  /security-thresholds/{id}:
    get:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityThreshold"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ìˆ˜ì •"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SecurityThresholdRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SecurityThreshold"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["2. Security Level Management"]
      summary: "ë³´ì•ˆ ì„ê³„ê°’ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  # ==========================================
  # 3. Access Point Management
  # ==========================================
  /access-points:
    get:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸(Access Point) ëª©ë¡ ì¡°íšŒ"
      description: |
        ë¬¼ë¦¬ì  ì¶œì… í¬ì¸íŠ¸ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        ìƒìœ„ ê³µê°„(`site`, `facility`, `sector`) ë° êµ¬ì—­(`area`)ë³„ ì¡°íšŒë‚˜ íƒ€ì…(`type`)ë³„ í•„í„°ë§ì„ ì§€ì›í•©ë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          schema:
            type: "string"
            format: "uuid"
        - name: "siteId"
          in: "query"
          description: "ì†Œì† ì‚¬ì´íŠ¸ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "facilityId"
          in: "query"
          description: "ì†Œì† ì‹œì„¤ë¬¼(ê±´ë¬¼) ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "sectorId"
          in: "query"
          description: "ì†Œì† êµ¬íš(ì¸µ) ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "areaId"
          in: "query"
          description: "ì†Œì† êµ¬ì—­ ID í•„í„°"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ì¶œì… í¬ì¸íŠ¸ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "type"
          in: "query"
          description: "ì¶œì… í¬ì¸íŠ¸ íƒ€ì… í•„í„°"
          schema:
            type: "string"
            enum: ["DOOR", "GATE_DOOR", "TURNSTILE", "ELEVATOR", "SPEED_GATE", "BARRIER", "SLIDING", "SHUTTER", "BOLLARD"]
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: name,asc (ì´ë¦„ìˆœ), createdAt,desc (ìµœì‹ ìˆœ)<br>
            ë‹¤ì¤‘ ì •ë ¬ ê°€ëŠ¥
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/AccessPoint"
                  page:
                    $ref: "#/components/schemas/PageMetadata"
    post:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ë¬¼ë¦¬ì  ì¶œì… í¬ì¸íŠ¸ì„ ìƒì„±í•©ë‹ˆë‹¤.
        
        **ì£¼ìš” íŠ¹ì§•:**
        - **ê³µê°„ ì •ë³´:** `siteId`, `facilityId`, `sectorId`, `areaId` ì¤‘ í•˜ë‚˜ ì´ìƒì„ ì…ë ¥í•˜ì—¬ ìœ„ì¹˜ë¥¼ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ëª¨ë‘ ì„ íƒ ì‚¬í•­)
        - **ë³´ì•ˆ ì„¤ì •:** ì…ì‹¤/í‡´ì‹¤ì— ëŒ€í•œ ì¸ì¦ ê·œì¹™(`AuthenticationRule`)ê³¼ ìµœì†Œ ë³´ì•ˆ ì„ê³„ê°’(`SecurityThreshold`)ì„ ì§ì ‘ ì„¤ì •í•©ë‹ˆë‹¤.
        - **ì¥ë¹„ ì—°ê²°:** `devices` ë°°ì—´ì„ í†µí•´ ì…/ì¶œ ë¦¬ë”ê¸°ë‚˜ ì»¨íŠ¸ë¡¤ëŸ¬ ë“± ë¬¼ë¦¬ì  ì¥ë¹„ë¥¼ ì¦‰ì‹œ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessPointRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPoint"
        '409':
          $ref: "#/components/responses/Conflict"

  /access-points/types:
    get:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ íƒ€ì… ëª©ë¡ ì¡°íšŒ"
      description: |
        ì‹œìŠ¤í…œì—ì„œ ì§€ì›í•˜ëŠ” ì¶œì… í¬ì¸íŠ¸ íƒ€ì…(Enum) ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        ì¶œì… í¬ì¸íŠ¸ íƒ€ì…(Enum) ëª©ë¡:<br>
        `"DOOR", "GATE_DOOR", "TURNSTILE", "ELEVATOR", "SPEED_GATE", "BARRIER", "SLIDING", "SHUTTER", "BOLLARD"`<br>
        UI ë“œë¡­ë‹¤ìš´(Select Box) êµ¬ì„±ì— ì‚¬ìš©ë©ë‹ˆë‹¤.<br>
        ë°˜í™˜ ì˜ˆì‹œ: <br>
        `[{ "code": "DOOR", "label": "ì¼ë°˜ ì¶œì…ë¬¸" }, { "code": "TURNSTILE", "label": "ìŠ¤í”¼ë“œ ê²Œì´íŠ¸" }]`
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "array"
                items:
                  $ref: "#/components/schemas/AccessPointType"  

  /access-points/{id}:
    get:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPoint"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ìˆ˜ì •"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessPointRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPoint"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  /access-point-groups:
    get:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        ê·¸ë£¹ ì´ë¦„ ê²€ìƒ‰ ì™¸ì— **íŠ¹ì • ì¶œì… í¬ì¸íŠ¸ê°€ í¬í•¨ëœ ê·¸ë£¹**ì„ ì°¾ëŠ” ê¸°ëŠ¥ì´ ì œê³µë©ë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ê·¸ë£¹ ì´ë¦„ ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "accessPointId"
          in: "query"
          description: "íŠ¹ì • ì¶œì… í¬ì¸íŠ¸ IDê°€ í¬í•¨ëœ ê·¸ë£¹ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "accessPointName"
          in: "query"
          description: "íŠ¹ì • ì¶œì… í¬ì¸íŠ¸ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·¸ë£¹ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: |
            ì •ë ¬ ê¸°ì¤€ (í˜•ì‹: í•„ë“œëª…,ì •ë ¬ë°©í–¥)<br>
            ì˜ˆ: name,asc (ì´ë¦„ìˆœ), createdAt,desc (ìµœì‹ ìˆœ)<br>
            ë‹¤ì¤‘ ì •ë ¬ ê°€ëŠ¥
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/AccessPointGroup"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
        `accessPointIds` ëª©ë¡ì„ í¬í•¨í•˜ì—¬ ê·¸ë£¹ì— ì†í•  ì¶œì… í¬ì¸íŠ¸ë¥¼ í•œ ë²ˆì— ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessPointGroupRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPointGroup"
        '409':
          $ref: "#/components/responses/Conflict"

  /access-point-groups/{id}:
    get:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPointGroup"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ìˆ˜ì •"
      description: |
        ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ì •ë³´ë¥¼ ì „ì²´ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>
        `accessPointIds` ëª©ë¡ì„ ìƒˆë¡œ ì „ë‹¬í•˜ë©´, ê¸°ì¡´ ë§¤í•‘ì€ ì œê±°ë˜ê³  ìƒˆë¡œìš´ ëª©ë¡ìœ¼ë¡œ êµì²´ë©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessPointGroupRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessPointGroup"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["3. Access Point Management"]
      summary: "ì¶œì… í¬ì¸íŠ¸ ê·¸ë£¹ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  # ==========================================
  # 4. Access Rules (Priority-Based Policy)
  # ==========================================
  /access-rules:
    get:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™(Access Rule) ëª©ë¡ ì¡°íšŒ"
      description: |
        ì¶œì… ê·œì¹™ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        **ìš°ì„ ìˆœìœ„ ê¸°ë°˜ ì •ì±…:** `priority`ê°€ ë†’ì„ìˆ˜ë¡ ë” ê°•ë ¥í•œ ê·œì¹™ìœ¼ë¡œ ê°„ì£¼ë˜ë©°, ì¶©ëŒ ì‹œ í•˜ìœ„ ê·œì¹™ì„ ë®ì–´ì”ë‹ˆë‹¤(Override).
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„° (ê´€ë¦¬ììš©)"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ê·œì¹™ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "description"
          in: "query"
          description: "ê·œì¹™ ì„¤ëª… ê²€ìƒ‰ (ë¶€ë¶„ ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "priority"
          in: "query"
          description: "ìš°ì„ ìˆœìœ„ ì¼ì¹˜ ê²€ìƒ‰"
          schema:
            type: "integer"
        
        # --- [Items ê´€ë ¨ ê²€ìƒ‰ ì¡°ê±´] ---
        - name: "accessPointId"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ IDê°€ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "accessPointName"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "accessPointGroupId"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ ê·¸ë£¹ IDê°€ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "accessPointGroupName"
          in: "query"
          description: "íŠ¹ì • ì¶œì…ë¬¸ ê·¸ë£¹ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "timeScheduleId"
          in: "query"
          description: "íŠ¹ì • ì‹œê°„ ìŠ¤ì¼€ì¤„ IDê°€ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "timeScheduleName"
          in: "query"
          description: "íŠ¹ì • ì‹œê°„ ìŠ¤ì¼€ì¤„ ì´ë¦„(ë¶€ë¶„ ì¼ì¹˜)ì´ í¬í•¨ëœ ê·œì¹™ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: "ì •ë ¬ ê¸°ì¤€ (ì˜ˆ: priority,desc - ë†’ì€ ìš°ì„ ìˆœìœ„ë¶€í„°)"
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/AccessRule"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ì¶œì… ê·œì¹™ì„ ìƒì„±í•©ë‹ˆë‹¤.<br>
        **ìš°ì„ ìˆœìœ„(Priority):** 0~255 ì‚¬ì´ì˜ ì •ìˆ˜. ìˆ«ìê°€ í´ìˆ˜ë¡ ë†’ì€ ê¶Œí•œì„ ê°€ì§‘ë‹ˆë‹¤.<br>
        **ë§¤í•‘:** í•˜ë‚˜ì˜ ê·œì¹™ì— [ê°œë³„ ì¶œì…ë¬¸ + ìŠ¤ì¼€ì¤„] ë˜ëŠ” [ì¶œì…ë¬¸ ê·¸ë£¹ + ìŠ¤ì¼€ì¤„] ì¡°í•©ì„ ì—¬ëŸ¬ ê°œ ë‹´ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessRuleRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessRule"
        '409':
          $ref: "#/components/responses/Conflict"

  /access-rules/{id}:
    get:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessRule"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ìˆ˜ì •"
      description: |
        ì¶œì… ê·œì¹™ì„ ìˆ˜ì •í•©ë‹ˆë‹¤. í—¤ë” ì •ë³´ì™€ ìƒì„¸ í•­ëª©(items)ì„ ëª¨ë‘ í¬í•¨í•˜ì—¬ ì „ì²´ ì—…ë°ì´íŠ¸(Replacement)í•©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AccessRuleRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccessRule"
        '404':
          $ref: "#/components/responses/NotFound"
        '409':
          $ref: "#/components/responses/Conflict"

    delete:
      tags: ["4. Access Rules"]
      summary: "ì¶œì… ê·œì¹™ ì‚­ì œ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

  # ==========================================
  # 5. Personnels (Access Subjects)
  # ==========================================
  /personnels:
    get:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´(Personnel) ëª©ë¡ ì¡°íšŒ"
      description: |
        ì‹œìŠ¤í…œì— ë“±ë¡ëœ ì¶œì… ì£¼ì²´(ì„ì§ì›, ë°©ë¬¸ê° ë“±) ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.<br>
        **ì°¸ê³ :** `name`, `department`, `phoneNumber` ë“± ê°œì¸ì •ë³´ í•„ë“œëŠ” DBì— ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë˜ë¯€ë¡œ, ì¼ë°˜ì ì¸ DB ê²€ìƒ‰ê³¼ ì„±ëŠ¥ íŠ¹ì„±ì´ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      parameters:
        - name: "organizationId"
          in: "query"
          description: "ì¡°ì§ ID í•„í„° (ê´€ë¦¬ììš©)"
          schema:
            type: "string"
            format: "uuid"
        - name: "name"
          in: "query"
          description: "ì´ë¦„ ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "employeeId"
          in: "query"
          description: "ì‚¬ë²ˆ ê²€ìƒ‰ (ì¼ì¹˜)"
          schema:
            type: "string"
        - name: "department"
          in: "query"
          description: "ë¶€ì„œëª… ê²€ìƒ‰"
          schema:
            type: "string"
        - name: "securityClearanceId"
          in: "query"
          description: "íŠ¹ì • ë³´ì•ˆ ë“±ê¸‰ì„ ê°€ì§„ ì‚¬ìš©ì ê²€ìƒ‰"
          schema:
            type: "string"
            format: "uuid"
        - name: "isActive"
          in: "query"
          schema:
            type: "boolean"
        - name: "page"
          in: "query"
          schema:
            type: "integer"
            default: 0
        - name: "size"
          in: "query"
          schema:
            type: "integer"
            default: 1000
        - name: "sort"
          in: "query"
          description: "ì •ë ¬ ê¸°ì¤€ (ì˜ˆ: name,asc)"
          schema:
            type: "array"
            items:
              type: "string"
      responses:
        '200':
          description: "ì„±ê³µ"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  content:
                    type: "array"
                    items:
                      $ref: "#/components/schemas/Personnel"
                  page:
                    $ref: "#/components/schemas/PageMetadata"

    post:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ìƒì„±"
      description: |
        ìƒˆë¡œìš´ ì¶œì… ì£¼ì²´ë¥¼ ë“±ë¡í•©ë‹ˆë‹¤.<br>
        `employeeId` (ì‚¬ë²ˆ)ê°€ ìˆìœ¼ë©´ ì„ì§ì›, ì—†ìœ¼ë©´ ë°©ë¬¸ê°ìœ¼ë¡œ ê°„ì£¼ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.<br>
        ì…ë ¥ëœ ê°œì¸ì •ë³´ëŠ” ì„œë²„ì—ì„œ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤.
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PersonnelRequest"
      responses:
        '200':
          description: "ìƒì„±ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Personnel"
        '409':
          $ref: "#/components/responses/Conflict"

  /personnels/{id}:
    get:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ë‹¨ê±´ ì¡°íšŒ"
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì„±ê³µ (ê°œì¸ì •ë³´ëŠ” ë³µí˜¸í™”ë˜ì–´ ë°˜í™˜ë¨)"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Personnel"
        '404':
          $ref: "#/components/responses/NotFound"

    put:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ìˆ˜ì •"
      description: |
        ì¶œì… ì£¼ì²´ ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.<br>
        ë³´ì•ˆ ë“±ê¸‰(`securityClearanceId`) ë³€ê²½ ì‹œ, í•´ë‹¹ ì‚¬ìš©ìì˜ ì¶œì… ê¶Œí•œ ë²”ìœ„ê°€ ì¦‰ì‹œ ë³€ê²½ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PersonnelRequest"
      responses:
        '200':
          description: "ìˆ˜ì •ë¨"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Personnel"
        '404':
          $ref: "#/components/responses/NotFound"

    delete:
      tags: ["5. Personnels"]
      summary: "ì¶œì… ì£¼ì²´ ì‚­ì œ"
      description: |
        ì¶œì… ì£¼ì²´ë¥¼ ì‚­ì œí•©ë‹ˆë‹¤ (Soft Delete).<br>
        ì‚­ì œ ì‹œ í•´ë‹¹ ì‚¬ìš©ìì—ê²Œ ë°œê¸‰ëœ ëª¨ë“  ì¸ì¦ ìˆ˜ë‹¨(Credential)ê³¼ ê¶Œí•œ(Access Grant)ì€ ìë™ìœ¼ë¡œ ë¹„í™œì„±í™” ì²˜ë¦¬ë©ë‹ˆë‹¤.
      parameters:
        - name: "id"
          in: "path"
          required: true
          schema:
            type: "string"
            format: "uuid"
      responses:
        '200':
          description: "ì‚­ì œ ì„±ê³µ"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeleteResult"
        '404':
          $ref: "#/components/responses/NotFound"

components:
  responses:
    BadRequest:
      description: "ì˜ëª»ëœ ìš”ì²­ (ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ë“±)"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Unauthorized:
      description: "ì¸ì¦ ì‹¤íŒ¨ (í† í° ì—†ìŒ/ë§Œë£Œ)"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Forbidden:
      description: "ê¶Œí•œ ì—†ìŒ"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    NotFound:
      description: "ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    Conflict:
      description: "ë°ì´í„° ì¶©ëŒ (ì¤‘ë³µ ë“±)"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
    InternalServerError:
      description: "ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜"
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/ErrorResponse"
  schemas:
    # ----------------------------------------------------
    # Common Schemas
    # ----------------------------------------------------
    PageMetadata:
      type: "object"
      properties:
        size:
          type: "integer"
          description: "í˜ì´ì§€ ë‹¹ í•­ëª© ìˆ˜"
          example: 20
        page:
          type: "integer"
          description: "í˜„ì¬ í˜ì´ì§€ ë²ˆí˜¸ (0ë¶€í„° ì‹œì‘)"
          example: 0
        totalElements:
          type: "integer"
          description: "ì „ì²´ í•­ëª© ìˆ˜"
          example: 100
        totalPages:
          type: "integer"
          description: "ì „ì²´ í˜ì´ì§€ ìˆ˜"
          example: 5
        isLast:
          type: "boolean"
          description: "ë§ˆì§€ë§‰ í˜ì´ì§€ ì—¬ë¶€"
          example: false
        hasNext:
          type: "boolean"
          description: "ë‹¤ìŒ í˜ì´ì§€ ì¡´ì¬ ì—¬ë¶€"
          example: true

    DeleteResult:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
          description: "ì‚­ì œëœ ë¦¬ì†ŒìŠ¤ì˜ ID"
        isSoftDeleted:
          type: "boolean"
          description: "ë…¼ë¦¬ì  ì‚­ì œ(Soft Delete) ì—¬ë¶€. trueë©´ DBì—ëŠ” ë‚¨ì•„ìˆì§€ë§Œ ì‚­ì œëœ ê²ƒìœ¼ë¡œ ì²˜ë¦¬ë¨."
        isHardDeleted:
          type: "boolean"
          description: "ë¬¼ë¦¬ì  ì‚­ì œ(Hard Delete) ì—¬ë¶€. trueë©´ DBì—ì„œ ì™„ì „íˆ ì œê±°ë¨."

    ErrorResponse:
      type: "object"
      properties:
        errorCode:
          type: "string"
          description: "ì—ëŸ¬ ì½”ë“œ (ì˜ˆ: DUPLICATE_ENTRY, RESOURCE_NOT_FOUND)"
          example: "INVALID_REQUEST"
        errorMessage:
          type: "string"
          description: "ì—ëŸ¬ ë©”ì‹œì§€"
          example: "ì˜ëª»ëœ ìš”ì²­ì…ë‹ˆë‹¤."
        errorDetails:
          type: "object"
          description: "ìƒì„¸ ì—ëŸ¬ ë‚´ìš© (í•„ë“œë³„ ìœ íš¨ì„± ê²€ì‚¬ ì‹¤íŒ¨ ì‚¬ìœ  ë“±)"
          nullable: true

    # ----------------------------------------------------
    # 1. Time Policy Management
    # ----------------------------------------------------
    TimeScheduleListResponse:
      type: "object"
      properties:
        content:
          type: "array"
          items:
            $ref: "#/components/schemas/TimeSchedule"
        page:
          $ref: "#/components/schemas/PageMetadata"

    TimeSchedule:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "í‰ì¼ ê·¼ë¬´ì‹œê°„"
        description:
          type: "string"
        code:
          type: "string"
        details:
          type: "array"
          description: "í•­ìƒ ëª¨ë“  ìš”ì¼(MON~SUN)ê³¼ ì„¤ì •ëœ ê³µíœ´ì¼ íƒ€ì…ì˜ ìƒì„¸ ì„¤ì •ì´ í¬í•¨ë©ë‹ˆë‹¤."
          items:
            $ref: "#/components/schemas/TimeScheduleDetail"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    TimeSlot:
      type: "object"
      properties:
        startTime:
          type: "string"
          description: "HH:mm:ss í˜•ì‹"
          example: "09:00:00"
        endTime:
          type: "string"
          description: "HH:mm:ss í˜•ì‹"
          example: "12:00:00"

    TimeScheduleDetail:
      type: "object"
      properties:
        dayOfWeek:
          type: "string"
          description: "ìš”ì¼ ì½”ë“œ (MON, TUE... SUN) ë˜ëŠ” ê³µíœ´ì¼ ìŠ¤ì¼€ì¥´ íƒ€ì… (ì˜ˆ: HOL1, HOL2...)"
          example: "MON"
        type:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ìœ í˜•"
          enum: ["CUSTOM", "ALWAYS_ALLOWED", "ALWAYS_DENIED"]
        holiday:
          $ref: "#/components/schemas/HolidayReference"
          description: "dayOfWeekì´ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì¸ ê²½ìš° í¬í•¨ë˜ëŠ” ê³µíœ´ì¼ ìƒì„¸ ì •ë³´"
        timeSlots:
          type: "array"
          description: "ì‹œê°„ êµ¬ê°„ ëª©ë¡ (typeê°€ 'CUSTOM'ì¼ ë•Œ í•„ìˆ˜)"
          items:
            $ref: "#/components/schemas/TimeSlot"
          nullable: true

    TimeScheduleDetailRequest:
      type: "object"
      required: ["dayOfWeek", "type"]
      properties:
        dayOfWeek:
          type: "string"
          description: "ìš”ì¼ ì½”ë“œ (MON, TUE... SUN) ë˜ëŠ” ê³µíœ´ì¼ ìŠ¤ì¼€ì¥´ íƒ€ì… (ì˜ˆ: HOL1, HOL2...)"
          example: "MON"
        type:
          type: "string"
          description: "ìŠ¤ì¼€ì¥´ ìœ í˜•"
          enum: ["CUSTOM", "ALWAYS_ALLOWED", "ALWAYS_DENIED"]
        holidayId:
          type: "string"
          format: "uuid"
          description: "dayOfWeekì´ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì¸ ê²½ìš° ë§¤í•‘í•  ê³µíœ´ì¼ ID"
        timeSlots:
          type: "array"
          description: "ì‹œê°„ êµ¬ê°„ ëª©ë¡ (typeê°€ 'CUSTOM'ì¼ ë•Œ í•„ìˆ˜)"
          items:
            $ref: "#/components/schemas/TimeSlot"
          nullable: true

    TimeScheduleRequest:
      type: "object"
      required: ["name", "details"]
      properties:
        name:
          type: "string"
        description:
          type: "string"
        code:
          type: "string"
        details:
          type: "array"
          description: "ëª¨ë“  ìš”ì¼(MON~SUN)ê³¼ í•„ìš”í•œ ê³µíœ´ì¼ íƒ€ì…(HOL...)ì— ëŒ€í•œ ìƒì„¸ ì„¤ì • (ìµœì†Œ 7ê°œ í•„ìˆ˜)"
          minItems: 7
          items:
            $ref: "#/components/schemas/TimeScheduleDetailRequest"
        isActive:
          type: "boolean"
          default: true

    HolidayListResponse:
      type: "object"
      properties:
        content:
          type: "array"
          items:
            $ref: "#/components/schemas/Holiday"
        page:
          $ref: "#/components/schemas/PageMetadata"

    HolidayReference:
      type: "object"
      description: "ìŠ¤ì¼€ì¥´ ì‘ë‹µ ì‹œ í¬í•¨ë˜ëŠ” ê³µíœ´ì¼ ìš”ì•½ ì •ë³´"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ì„¤ë‚  ì—°íœ´"
        dates:
          type: "array"
          description: "í•´ë‹¹ ê³µíœ´ì¼ì— í¬í•¨ëœ ëª¨ë“  ë‚ ì§œ ëª©ë¡"
          items:
            type: "string"
            format: "date"
            example: "2024-02-10"

    Holiday:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
        description:
          type: "string"
        code:
          type: "string"
        isRecurring:
          type: "boolean"
        items:
          type: "array"
          description: "ê³µíœ´ì¼ì— í¬í•¨ëœ ë‚ ì§œ ëª©ë¡"
          items:
            $ref: "#/components/schemas/HolidayItem"
        isActive:
          type: "boolean"

    HolidayItem:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        holidayDate:
          type: "string"
          description: "YYYY-MM-DD (isRecurring=false) ë˜ëŠ” MM-DD (isRecurring=true)"
          example: "2024-01-01"
        isSubstitute:
          type: "boolean"

    HolidayRequest:
      type: "object"
      required: ["name", "items"]
      properties:
        name:
          type: "string"
        description:
          type: "string"
        code:
          type: "string"
        isRecurring:
          type: "boolean"
          default: false
        items:
          type: "array"
          minItems: 1
          items:
            type: "object"
            required: ["holidayDate"]
            properties:
              holidayDate:
                type: "string"
                # YYYY-MM-DD ë˜ëŠ” MM-DD í˜•ì‹ì„ ëª¨ë‘ í—ˆìš©í•˜ëŠ” ì •ê·œì‹
                pattern: "^(\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01])|(0[1-9]|1[0-2])-(0[1-9]|[12]\\d|3[01]))$"
                description: "ë‚ ì§œ. isRecurring=trueë©´ 'MM-DD', falseë©´ 'YYYY-MM-DD' í˜•ì‹"
                example: "01-01"
              isSubstitute:
                type: "boolean"
                default: false
        isActive:
          type: "boolean"
          default: true

    # ----------------------------------------------------
    # 2. Security Level Management
    # ----------------------------------------------------
    SecurityClearance:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ì¼ë°˜ ì„ì§ì›"
        description:
          type: "string"
          example: "ëŒ€ë¶€ë¶„ì˜ ì„ì§ì›ì—ê²Œ ë¶€ì—¬ë˜ëŠ” ê¸°ë³¸ ì¶œì… ê¶Œí•œ ë“±ê¸‰"
        accessLevel:
          type: "integer"
          description: "ì¶œì… ê¶Œí•œ ë ˆë²¨ (1~255). ì´ ê°’ì´ ë¬¸ì˜ minAccessLevelë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì•„ì•¼ í†µê³¼."
          example: 10
        antipassbackLevel:
          type: "integer"
          description: "ì•ˆí‹°íŒ¨ìŠ¤ë°± ë©´ì œ ë ˆë²¨ (1~255)"
          default: 1
        armingLevel:
          type: "integer"
          description: "ê²½ë¹„(Arming) ì„¤ì • ê°€ëŠ¥ ë ˆë²¨ (1~255)"
          default: 1
        isActive:
          type: "boolean"

    SecurityClearanceRequest:
      type: "object"
      required: ["name"]
      properties:
        name:
          type: "string"
          example: "ì¼ë°˜ ì„ì§ì›"
        description:
          type: "string"
          example: "ëŒ€ë¶€ë¶„ì˜ ì„ì§ì›ì—ê²Œ ë¶€ì—¬ë˜ëŠ” ê¸°ë³¸ ì¶œì… ê¶Œí•œ ë“±ê¸‰"
        accessLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        antipassbackLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        armingLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        isActive:
          type: "boolean"
          default: true

    SecurityThreshold:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ë³´ì•ˆêµ¬ì—­ ë ˆë²¨"
        description:
          type: "string"
          example: "ì¶œì… í¬ì¸íŠ¸ì— ì„¤ì •í•  ìµœì†Œ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­"
        minAccessLevel:
          type: "integer"
          description: "ìµœì†Œ ìš”êµ¬ ì¶œì… ë ˆë²¨ (1~255)"
          example: 10
        minAntipassbackLevel:
          type: "integer"
          default: 1
        minArmingLevel:
          type: "integer"
          default: 1
        isActive:
          type: "boolean"

    SecurityThresholdRequest:
      type: "object"
      required: ["name"]
      properties:
        name:
          type: "string"
          example: "ë³´ì•ˆêµ¬ì—­ ë ˆë²¨"
        description:
          type: "string"
          example: "ì¶œì… í¬ì¸íŠ¸ì— ì„¤ì •í•  ìµœì†Œ ë³´ì•ˆ ìš”êµ¬ì‚¬í•­"
        minAccessLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        minAntipassbackLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        minArmingLevel:
          type: "integer"
          default: 1
          minimum: 1
          maximum: 255
        isActive:
          type: "boolean"
          default: true

    # ----------------------------------------------------
    # 3. Access Point Management
    # ----------------------------------------------------
    AccessPointType:
      type: "object"
      properties:
        code:
          type: "string"
          description: "ì¶œì… í¬ì¸íŠ¸ íƒ€ì… ì½”ë“œ (DB ì €ì¥ ê°’)"
          example: "DOOR"
        label:
          type: "string"
          description: "í™”ë©´ í‘œì‹œìš© ë¼ë²¨"
          example: "ì¼ë°˜ ì¶œì…ë¬¸"

    AccessPoint:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        siteId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† ì‚¬ì´íŠ¸ ID"
        facilityId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† ì‹œì„¤ë¬¼ ID"
        sectorId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† êµ¬íš ID"
        areaId:
          type: "string"
          format: "uuid"
          description: "ì†Œì† êµ¬ì—­ ID"
        siteName:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‚¬ì´íŠ¸ëª…"
          example: "ë³¸ì‚¬ ìº í¼ìŠ¤"
          readOnly: true
        facilityName:
          type: "string"
          description: "[Read-Only] ì†Œì† ì‹œì„¤ë¬¼ëª…"
          example: "ë³¸ê´€ ë¹Œë”©"
          readOnly: true
        sectorName:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬íšëª…"
          example: "3ì¸µ"
          readOnly: true
        areaName:
          type: "string"
          description: "[Read-Only] ì†Œì† êµ¬ì—­ëª…"
          example: "ë³´ì•ˆêµ¬ì—­ A"
          readOnly: true
        name:
          type: "string"
          example: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"
        description:
          type: "string"
          example: "ë³¸ê´€ ë¹Œë”© 1ì¸µì— ìœ„ì¹˜í•œ ì£¼ìš” ì¶œì…ë¬¸"
        code:
          type: "string"
          example: "AP-ENT-001"
        type:
          type: "string"
          enum: ["DOOR", "GATE_DOOR", "TURNSTILE", "ELEVATOR", "SPEED_GATE", "BARRIER", "SLIDING", "SHUTTER", "BOLLARD"]
        fromAreaId:
          type: "string"
          format: "uuid"
          description: "ì§„ì… ì „ êµ¬ì—­ ID (ì•ˆí‹°íŒ¨ìŠ¤ë°±ìš©)"
        toAreaId:
          type: "string"
          format: "uuid"
          description: "ì§„ì… í›„ êµ¬ì—­ ID (ì•ˆí‹°íŒ¨ìŠ¤ë°±ìš©)"
        config:
          type: "object"
          description: "í•˜ë“œì›¨ì–´ ì œì–´ ê´€ë ¨ ì„¤ì • (ê°œë°© ì‹œê°„, ë¦´ë ˆì´ ë“±)"
        securityConfig:
          $ref: "#/components/schemas/AccessPointConfig"
          description: "ì ìš©ëœ ë³´ì•ˆ ì •ì±… ì •ë³´ (ë“±ê¸‰, ì¸ì¦ ê·œì¹™ ë“±)"
        devices:
          type: "array"
          items:
            $ref: "#/components/schemas/AccessPointDevice"
          description: "ì—°ê²°ëœ ë¬¼ë¦¬ì  ì¥ë¹„ ëª©ë¡"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    AccessPointDeviceRequest:
      type: "object"
      required: ["deviceId", "deviceRole"]
      properties:
        deviceId:
          type: "string"
          format: "uuid"
          description: "ì—°ê²°í•  ì¥ë¹„ ID"
        deviceRole:
          type: "string"
          enum: ["ENTRY", "EXIT", "CONTROLLER", "SENSOR"]
          description: |
            ì¥ë¹„ì˜ ì—­í•  (ì…ì‹¤ ë¦¬ë”ê¸°, í‡´ì‹¤ ë¦¬ë”ê¸°, ì»¨íŠ¸ë¡¤ëŸ¬ ë“±)<br>
            ENTRYëŠ” from->to ì •ë°©í–¥, EXITëŠ” to->from ì—­ë°©í–¥ ì´ë™ì„ ìœ ë°œí•©ë‹ˆë‹¤.
        portIndex:
          type: "integer"
          description: "ì»¨íŠ¸ë¡¤ëŸ¬ ì—°ê²° í¬íŠ¸ ë²ˆí˜¸ (ì„ íƒ ì‚¬í•­)"
        authenticationModes:
          type: "array"
          items:
            type: "string"
            enum: ["CARD", "PIN", "BIOMETRIC", "MOBILE"]
          description: "ì¸ì¦ íƒ€ì… (ë¦¬ë”ê¸°ì¸ ê²½ìš°, ì„ íƒ ì‚¬í•­)"

    AccessPointDevice:
      type: "object"
      description: "ì¶œì… ì§€ì ì— ì—°ê²°ëœ ì¥ë¹„ ìƒì„¸ ì •ë³´"
      properties:
        deviceId:
          type: "string"
          format: "uuid"
        deviceName:
          type: "string"
          description: "ì¥ë¹„ëª…"
          example: "ì •ë¬¸ ì…ì‹¤ ë¦¬ë”ê¸°"
        deviceCode:
          type: "string"
          description: "ì¥ë¹„ ì½”ë“œ"
          example: "DEV-READER-001"
        deviceType:
          type: "string"
          enum: ["ACU", "READER", "CONTROLLER", "CAMERA", "SENSOR"]
          description: "ì¥ë¹„ íƒ€ì… (ACU, READER, CONTROLLER, CAMERA, SENSOR)"
        deviceRole:
          type: "string"
          enum: ["ENTRY", "EXIT", "CONTROLLER", "SENSOR"]
          description: "ì´ ì¶œì… ì§€ì ì—ì„œì˜ ì—­í• "
        portIndex:
          type: "integer"
          description: "ì—°ê²° í¬íŠ¸ ë²ˆí˜¸" 
        authenticationModes:
          type: "array"
          items:
            type: "string"
            enum: ["CARD", "PIN", "BIOMETRIC", "MOBILE"]
          description: "ì¸ì¦ íƒ€ì… (ë¦¬ë”ê¸°ì¸ ê²½ìš°)"

    AccessPointRequest:
      type: "object"
      required: ["name", "type", "securityConfig"]
      description: |
        ì¶œì… ì§€ì  ìƒì„±/ìˆ˜ì • ìš”ì²­ ê°ì²´.<br>
        `siteId`, `facilityId`, `sectorId`, `areaId` ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ì—¬ ê³µê°„ì„ ì§€ì •í•©ë‹ˆë‹¤.<br>
        **ë³´ì•ˆ ì„¤ì •(Security Config):** <br>
        - **ë³´ì•ˆ ì„ê³„ê°’(Threshold):** ID ì°¸ì¡°ì™€ ì§ì ‘ ê°’ ì…ë ¥ì„ ëª¨ë‘ ì§€ì›í•˜ëŠ” í•˜ì´ë¸Œë¦¬ë“œ ë°©ì‹ì…ë‹ˆë‹¤. IDê°€ ì…ë ¥ë˜ë©´ IDì˜ ì •ì±…ì„ ë”°ë¥´ê³ , IDê°€ ì—†ìœ¼ë©´ ì§ì ‘ ì…ë ¥ëœ ê°’(Level)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.<br>
        - **ì¸ì¦ ê·œì¹™(Authentication):** ì˜¤ì§ ID ì°¸ì¡°ë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤. (ì§ì ‘ ì…ë ¥ ë¶ˆê°€)
      properties:
        siteId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† ì‚¬ì´íŠ¸ ID (ì„ íƒ)"
        facilityId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† ì‹œì„¤ë¬¼ ID (ì„ íƒ)"
        sectorId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† ì¸µ/êµ¬íš ID (ì„ íƒ)"
        areaId:
          type: "string"
          format: "uuid"
          nullable: true
          description: "ì†Œì† êµ¬ì—­ ID (ì„ íƒ)"
        name:
          type: "string"
        description:
          type: "string"
        code:
          type: "string"
        type:
          type: "string"
          enum: ["DOOR", "GATE_DOOR", "TURNSTILE", "ELEVATOR", "SPEED_GATE", "BARRIER", "SLIDING", "SHUTTER", "BOLLARD"]
          default: "DOOR"
        fromAreaId:
          type: "string"
          format: "uuid"
          nullable: true
        toAreaId:
          type: "string"
          format: "uuid"
          nullable: true
        config:
          type: "object"
          nullable: true
          description: "í•˜ë“œì›¨ì–´ ì œì–´ ì„¤ì • (ê°œë°© ì‹œê°„ ë“±)"
        securityConfig:
          type: "object"
          required: ["entryAuthenticationRuleId", "exitAuthenticationRuleId"]
          properties:
            # --- [ë³´ì•ˆ ì„¤ì • - ì…ì‹¤ (Entry)] ---
            entrySecurityThresholdId:
              type: "string"
              format: "uuid"
              nullable: true
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID (ìš°ì„  ì ìš©)"
            entryAccessLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ì¶œì… ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            entryAntipassbackLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            entryArmingLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] ì…ì‹¤ ê²½ë¹„(Arming) ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"

            # --- [ë³´ì•ˆ ì„¤ì • - í‡´ì‹¤ (Exit)] ---
            exitSecurityThresholdId:
              type: "string"
              format: "uuid"
              nullable: true
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID (ìš°ì„  ì ìš©)"
            exitAccessLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ì¶œì… ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            exitAntipassbackLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
            exitArmingLevel:
              type: "integer"
              nullable: true
              default: 0
              minimum: 0
              description: "[í•˜ì´ë¸Œë¦¬ë“œ] í‡´ì‹¤ ê²½ë¹„(Arming) ë ˆë²¨ ì§ì ‘ ì§€ì • (ID ë¯¸ì§€ì • ì‹œ ì ìš©, ë¯¸ì…ë ¥ ì‹œ 0)"
        devices:
          type: "array"
          description: "ì¶œì… í¬ì¸íŠ¸ ìƒì„± ì‹œ ì—°ê²°í•  ì¥ë¹„ ëª©ë¡"
          items:
            $ref: "#/components/schemas/AccessPointDeviceRequest"

    AccessPointConfig:
      type: "object"
      description: "ì¶œì… ì§€ì ì˜ ë³´ì•ˆ ì •ì±… ì„¤ì • ì •ë³´ (í•˜ì´ë¸Œë¦¬ë“œ ì§€ì›)"
      properties:
        
        # --- [ì…ì‹¤] ---
        entrySecurityThresholdId:
          type: "string"
          format: "uuid"
          description: "ì…ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID"
          nullable: true
        entryAccessLevel:
          type: "integer"
          description: "ì…ì‹¤ ì¶œì… ë ˆë²¨"
          nullable: true
        entryAntipassbackLevel:
          type: "integer"
          description: "ì…ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨"
          nullable: true
        entryArmingLevel:
          type: "integer"
          description: "ì…ì‹¤ ê²½ë¹„ ë ˆë²¨"
          nullable: true
        
        # --- [í‡´ì‹¤] ---
        exitSecurityThresholdId:
          type: "string"
          format: "uuid"
          description: "í‡´ì‹¤ ë³´ì•ˆ ì„ê³„ê°’ ID"
          nullable: true
        exitAccessLevel:
          type: "integer"
          description: "í‡´ì‹¤ ì¶œì… ë ˆë²¨"
          nullable: true
        exitAntipassbackLevel:
          type: "integer"
          description: "í‡´ì‹¤ ì•ˆí‹°íŒ¨ìŠ¤ë°± ë ˆë²¨"
          nullable: true
        exitArmingLevel:
          type: "integer"
          description: "í‡´ì‹¤ ê²½ë¹„ ë ˆë²¨"
          nullable: true

    AccessPointSummary:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"

    AccessPointGroup:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "1ì¸µ ì „ì²´ ì¶œì…ë¬¸"
        description:
          type: "string"
        accessPoints:
          type: "array"
          description: "ê·¸ë£¹ì— í¬í•¨ëœ ì¶œì… í¬ì¸íŠ¸ ëª©ë¡ (ID + ì´ë¦„)"
          items:
            $ref: "#/components/schemas/AccessPointSummary"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    AccessPointGroupRequest:
      type: "object"
      required: ["name"]
      properties:
        name:
          type: "string"
        description:
          type: "string"
        accessPointIds:
          type: "array"
          description: "ê·¸ë£¹ì— í¬í•¨ì‹œí‚¬ ì¶œì… í¬ì¸íŠ¸ ID ëª©ë¡"
          items:
            type: "string"
            format: "uuid"

    # ----------------------------------------------------
    # 4. Access Rules (Priority-Based)
    # ----------------------------------------------------
    AccessRule:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        name:
          type: "string"
          example: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description:
          type: "string"
        priority:
          type: "integer"
          description: "ìš°ì„ ìˆœìœ„ (0~255). ë†’ì€ ê°’ì´ ë‚®ì€ ê°’ì„ ì´ê¹ë‹ˆë‹¤. (Override)"
          example: 10
        items:
          type: "array"
          items:
            $ref: "#/components/schemas/AccessRuleItem"
        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"
      example:
        id: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        organizationId: "3fa85f64-5717-4562-b3fc-2c963f66afa6"
        name: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description: "í‰ì¼ 9-6 ê·¼ë¬´ìë¥¼ ìœ„í•œ ê¸°ë³¸ ê·œì¹™"
        priority: 10
        items:
          - accessPointId: "ap-uuid-1"
            accessPointName: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"
            accessPointGroupId: null
            accessPointGroupName: null
            timeScheduleId: "schedule-uuid-1"
            timeScheduleName: "í‰ì¼ ì£¼ê°„ ê·¼ë¬´"
          - accessPointId: null
            accessPointName: null
            accessPointGroupId: "group-uuid-2"
            accessPointGroupName: "ì—°êµ¬ë™ ì „ì²´ ì¶œì…ë¬¸"
            timeScheduleId: "schedule-uuid-2"
            timeScheduleName: "24ì‹œê°„ í—ˆìš©"
        isActive: true
        createdAt: "2025-12-22T06:57:19.336Z"
        updatedAt: "2025-12-22T06:57:19.336Z"          

    AccessRuleItem:
      type: "object"
      description: "ì¶œì… ê·œì¹™ ìƒì„¸ í•­ëª© (ID ë“± ë‚´ë¶€ ì‹ë³„ìëŠ” ì œì™¸í•˜ê³  í•„ìš”í•œ ì •ë³´ë§Œ í¬í•¨)"
      properties:
        
        # [Flexible Mapping] ê·¸ë£¹ ë˜ëŠ” ê°œë³„ ë¬¸ ì¤‘ í•˜ë‚˜ë§Œ ê°’ì„ ê°€ì§
        accessPointId:
          type: "string"
          format: "uuid"
          description: "ê°œë³„ ì¶œì…ë¬¸ ID (ê·¸ë£¹ê³¼ ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬)"
          nullable: true
        accessPointName:
          type: "string"
          description: "[Read-Only] ì¶œì…ë¬¸ ì´ë¦„"
          example: "ë³¸ê´€ 1ì¸µ ì •ë¬¸"
          readOnly: true
          nullable: true
        accessPointGroupId:
          type: "string"
          format: "uuid"
          description: "ì¶œì…ë¬¸ ê·¸ë£¹ ID (ê°œë³„ ë¬¸ê³¼ ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì¡´ì¬)"
          nullable: true
        accessPointGroupName:
          type: "string"
          description: "[Read-Only] ì¶œì…ë¬¸ ê·¸ë£¹ ì´ë¦„"
          readOnly: true
          nullable: true
          example: "1ì¸µ ì „ì²´ ì¶œì…ë¬¸"
        timeScheduleId:
          type: "string"
          format: "uuid"
          description: "ì ìš©í•  ì‹œê°„ ìŠ¤ì¼€ì¤„ ID"
        timeScheduleName:
          type: "string"
          description: "[Read-Only] ì‹œê°„ ìŠ¤ì¼€ì¤„ ì´ë¦„"
          readOnly: true
          example: "í‰ì¼ ê·¼ë¬´ì‹œê°„"

    AccessRuleItemRequest:
      type: "object"
      required: ["timeScheduleId"]
      properties:
        accessPointId:
          type: "string"
          format: "uuid"
          description: "ê°œë³„ ì¶œì…ë¬¸ ID (ê·¸ë£¹ IDê°€ ì—†ìœ¼ë©´ í•„ìˆ˜)"
          nullable: true
        accessPointGroupId:
          type: "string"
          format: "uuid"
          description: "ì¶œì…ë¬¸ ê·¸ë£¹ ID (ê°œë³„ ë¬¸ IDê°€ ì—†ìœ¼ë©´ í•„ìˆ˜)"
          nullable: true
        timeScheduleId:
          type: "string"
          format: "uuid"

    AccessRuleRequest:
      type: "object"
      required: ["name", "items"]
      properties:
        name:
          type: "string"
          example: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description:
          type: "string"
          example: "ì •ê·œì§ ì§ì›ì—ê²Œ í‰ì¼ ì¶œì… ê¶Œí•œ ë¶€ì—¬"
        priority:
          type: "integer"
          minimum: 0
          maximum: 255
          default: 0
          description: "ìš°ì„ ìˆœìœ„ (0~255). ìˆ«ìê°€ ë†’ì„ìˆ˜ë¡ ìš°ì„ ìˆœìœ„ê°€ ë†’ìŒ."
        items:
          type: "array"
          minItems: 1
          items:
            $ref: "#/components/schemas/AccessRuleItemRequest"
        isActive:
          type: "boolean"
          default: 
      example:
        name: "ì •ê·œì§ í‰ì¼ ì¶œì…"
        description: "í‰ì¼ 9-6 ê·¼ë¬´ìë¥¼ ìœ„í•œ ê·œì¹™"
        priority: 10
        items:
          - accessPointId: "ap-uuid-1"
            accessPointGroupId: null
            timeScheduleId: "schedule-uuid-1"
          - accessPointId: null
            accessPointGroupId: "group-uuid-2"
            timeScheduleId: "schedule-uuid-2"
        isActive: true

    # ----------------------------------------------------
    # 5. Personnels
    # ----------------------------------------------------
    Personnel:
      type: "object"
      properties:
        id:
          type: "string"
          format: "uuid"
        organizationId:
          type: "string"
          format: "uuid"
        
        # [ì•”í˜¸í™” í•„ë“œ -> ë³µí˜¸í™”ë˜ì–´ ì œê³µë¨]
        name:
          type: "string"
          example: "í™ê¸¸ë™"
          description: "ì´ë¦„"
        employeeId:
          type: "string"
          description: "ì‚¬ë²ˆ (ì„ì§ì›ì¸ ê²½ìš°)"
          example: "EMP-2023001"
          nullable: true
        department:
          type: "string"
          description: "ë¶€ì„œëª…"
          example: "ë³´ì•ˆíŒ€"
          nullable: true
        position:
          type: "string"
          description: "ì§ì±…"
          example: "íŒ€ì¥"
          nullable: true
        phoneNumber:
          type: "string"
          example: "010-1234-5678"
          nullable: true
        email:
          type: "string"
          format: "email"
          example: "hong@example.com"
          nullable: true
        
        # [ì°¸ì¡° ì •ë³´]
        securityClearanceId:
          type: "string"
          format: "uuid"
          description: "í• ë‹¹ëœ ë³´ì•ˆ ë“±ê¸‰ ID"
          nullable: true
        securityClearanceName:
          type: "string"
          description: "[Read-Only] ë³´ì•ˆ ë“±ê¸‰ëª…"
          readOnly: true
          example: "ì¼ë°˜ ì„ì§ì›"
          nullable: true

        isActive:
          type: "boolean"
        createdAt:
          type: "string"
          format: "date-time"
        updatedAt:
          type: "string"
          format: "date-time"

    PersonnelRequest:
      type: "object"
      required: ["name"]
      description: "ê°œì¸ì •ë³´ëŠ” í‰ë¬¸ìœ¼ë¡œ ì…ë ¥ë°›ì•„ ì„œë²„ì—ì„œ ì•”í˜¸í™” ì €ì¥í•©ë‹ˆë‹¤."
      properties:
        name:
          type: "string"
          description: "ì´ë¦„ (í•„ìˆ˜)"
        employeeId:
          type: "string"
          description: "ì‚¬ë²ˆ (ì„ íƒ)"
          nullable: true
        department:
          type: "string"
          description: "ë¶€ì„œëª…"
          nullable: true
        position:
          type: "string"
          description: "ì§ì±…"
          nullable: true
        phoneNumber:
          type: "string"
          nullable: true
        email:
          type: "string"
          format: "email"
          nullable: true
        
        securityClearanceId:
          type: "string"
          format: "uuid"
          description: "ë¶€ì—¬í•  ë³´ì•ˆ ë“±ê¸‰ ID (ì„ íƒ, ë¯¸ì§€ì • ì‹œ ë“±ê¸‰ ì—†ìŒ)"
          nullable: true
        
        isActive:
          type: "boolean"
          default: true